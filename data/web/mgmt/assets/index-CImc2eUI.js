const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/UserActivityChart-bAgnbgjf.js","assets/vendor-aaHKUft-.js","assets/ui-D3A8n2OY.js","assets/OrgLoginChart-WF47ZrbE.js"])))=>i.map(i=>d[i]);
import{e as oe,r as C,c as O,f,g as e,j as m,d as M,k as j,t as $,l as B,F as D,m as F,q as w,s as S,v as Z,x as U,y as z,z as P,A as ue,B as ft,C as Ue,o as Y,D as R,E as N,G as Te,T as Rs,H as At,I as Et,S as Ot,J as Rt,K as ee,L as ae,M as ie,N as Ee,O as X,P as zs,Q as Us,R as Ts,U as Bs}from"./vendor-aaHKUft-.js";import{Q as Ls,V as Ds,N as Fs,g as Ms,S as js,M as Ps,b as zt}from"./ui-D3A8n2OY.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const d of o.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function n(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(a){if(a.ep)return;a.ep=!0;const o=n(a);fetch(a.href,o)}})();function Xt(s,t){return function(){return s.apply(t,arguments)}}const{toString:Is}=Object.prototype,{getPrototypeOf:gt}=Object,{iterator:We,toStringTag:Yt}=Symbol,Ge=(s=>t=>{const n=Is.call(t);return s[n]||(s[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),se=s=>(s=s.toLowerCase(),t=>Ge(t)===s),Je=s=>t=>typeof t===s,{isArray:ke}=Array,be=Je("undefined");function Be(s){return s!==null&&!be(s)&&s.constructor!==null&&!be(s.constructor)&&J(s.constructor.isBuffer)&&s.constructor.isBuffer(s)}const es=se("ArrayBuffer");function Ns(s){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(s):t=s&&s.buffer&&es(s.buffer),t}const Vs=Je("string"),J=Je("function"),ts=Je("number"),Le=s=>s!==null&&typeof s=="object",qs=s=>s===!0||s===!1,Ve=s=>{if(Ge(s)!=="object")return!1;const t=gt(s);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Yt in s)&&!(We in s)},Hs=s=>{if(!Le(s)||Be(s))return!1;try{return Object.keys(s).length===0&&Object.getPrototypeOf(s)===Object.prototype}catch{return!1}},Zs=se("Date"),Ks=se("File"),Ws=se("Blob"),Gs=se("FileList"),Js=s=>Le(s)&&J(s.pipe),Qs=s=>{let t;return s&&(typeof FormData=="function"&&s instanceof FormData||J(s.append)&&((t=Ge(s))==="formdata"||t==="object"&&J(s.toString)&&s.toString()==="[object FormData]"))},Xs=se("URLSearchParams"),[Ys,en,tn,sn]=["ReadableStream","Request","Response","Headers"].map(se),nn=s=>s.trim?s.trim():s.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function De(s,t,{allOwnKeys:n=!1}={}){if(s===null||typeof s>"u")return;let r,a;if(typeof s!="object"&&(s=[s]),ke(s))for(r=0,a=s.length;r<a;r++)t.call(null,s[r],r,s);else{if(Be(s))return;const o=n?Object.getOwnPropertyNames(s):Object.keys(s),d=o.length;let u;for(r=0;r<d;r++)u=o[r],t.call(null,s[u],u,s)}}function ss(s,t){if(Be(s))return null;t=t.toLowerCase();const n=Object.keys(s);let r=n.length,a;for(;r-- >0;)if(a=n[r],t===a.toLowerCase())return a;return null}const fe=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,ns=s=>!be(s)&&s!==fe;function it(){const{caseless:s,skipUndefined:t}=ns(this)&&this||{},n={},r=(a,o)=>{const d=s&&ss(n,o)||o;Ve(n[d])&&Ve(a)?n[d]=it(n[d],a):Ve(a)?n[d]=it({},a):ke(a)?n[d]=a.slice():(!t||!be(a))&&(n[d]=a)};for(let a=0,o=arguments.length;a<o;a++)arguments[a]&&De(arguments[a],r);return n}const rn=(s,t,n,{allOwnKeys:r}={})=>(De(t,(a,o)=>{n&&J(a)?s[o]=Xt(a,n):s[o]=a},{allOwnKeys:r}),s),an=s=>(s.charCodeAt(0)===65279&&(s=s.slice(1)),s),on=(s,t,n,r)=>{s.prototype=Object.create(t.prototype,r),s.prototype.constructor=s,Object.defineProperty(s,"super",{value:t.prototype}),n&&Object.assign(s.prototype,n)},ln=(s,t,n,r)=>{let a,o,d;const u={};if(t=t||{},s==null)return t;do{for(a=Object.getOwnPropertyNames(s),o=a.length;o-- >0;)d=a[o],(!r||r(d,s,t))&&!u[d]&&(t[d]=s[d],u[d]=!0);s=n!==!1&&gt(s)}while(s&&(!n||n(s,t))&&s!==Object.prototype);return t},dn=(s,t,n)=>{s=String(s),(n===void 0||n>s.length)&&(n=s.length),n-=t.length;const r=s.indexOf(t,n);return r!==-1&&r===n},un=s=>{if(!s)return null;if(ke(s))return s;let t=s.length;if(!ts(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=s[t];return n},cn=(s=>t=>s&&t instanceof s)(typeof Uint8Array<"u"&&gt(Uint8Array)),mn=(s,t)=>{const r=(s&&s[We]).call(s);let a;for(;(a=r.next())&&!a.done;){const o=a.value;t.call(s,o[0],o[1])}},fn=(s,t)=>{let n;const r=[];for(;(n=s.exec(t))!==null;)r.push(n);return r},gn=se("HTMLFormElement"),pn=s=>s.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,a){return r.toUpperCase()+a}),Ut=(({hasOwnProperty:s})=>(t,n)=>s.call(t,n))(Object.prototype),hn=se("RegExp"),rs=(s,t)=>{const n=Object.getOwnPropertyDescriptors(s),r={};De(n,(a,o)=>{let d;(d=t(a,o,s))!==!1&&(r[o]=d||a)}),Object.defineProperties(s,r)},yn=s=>{rs(s,(t,n)=>{if(J(s)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=s[n];if(J(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},xn=(s,t)=>{const n={},r=a=>{a.forEach(o=>{n[o]=!0})};return ke(s)?r(s):r(String(s).split(t)),n},vn=()=>{},bn=(s,t)=>s!=null&&Number.isFinite(s=+s)?s:t;function kn(s){return!!(s&&J(s.append)&&s[Yt]==="FormData"&&s[We])}const _n=s=>{const t=new Array(10),n=(r,a)=>{if(Le(r)){if(t.indexOf(r)>=0)return;if(Be(r))return r;if(!("toJSON"in r)){t[a]=r;const o=ke(r)?[]:{};return De(r,(d,u)=>{const v=n(d,a+1);!be(v)&&(o[u]=v)}),t[a]=void 0,o}}return r};return n(s,0)},wn=se("AsyncFunction"),$n=s=>s&&(Le(s)||J(s))&&J(s.then)&&J(s.catch),as=((s,t)=>s?setImmediate:t?((n,r)=>(fe.addEventListener("message",({source:a,data:o})=>{a===fe&&o===n&&r.length&&r.shift()()},!1),a=>{r.push(a),fe.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",J(fe.postMessage)),Sn=typeof queueMicrotask<"u"?queueMicrotask.bind(fe):typeof process<"u"&&process.nextTick||as,Cn=s=>s!=null&&J(s[We]),k={isArray:ke,isArrayBuffer:es,isBuffer:Be,isFormData:Qs,isArrayBufferView:Ns,isString:Vs,isNumber:ts,isBoolean:qs,isObject:Le,isPlainObject:Ve,isEmptyObject:Hs,isReadableStream:Ys,isRequest:en,isResponse:tn,isHeaders:sn,isUndefined:be,isDate:Zs,isFile:Ks,isBlob:Ws,isRegExp:hn,isFunction:J,isStream:Js,isURLSearchParams:Xs,isTypedArray:cn,isFileList:Gs,forEach:De,merge:it,extend:rn,trim:nn,stripBOM:an,inherits:on,toFlatObject:ln,kindOf:Ge,kindOfTest:se,endsWith:dn,toArray:un,forEachEntry:mn,matchAll:fn,isHTMLForm:gn,hasOwnProperty:Ut,hasOwnProp:Ut,reduceDescriptors:rs,freezeMethods:yn,toObjectSet:xn,toCamelCase:pn,noop:vn,toFiniteNumber:bn,findKey:ss,global:fe,isContextDefined:ns,isSpecCompliantForm:kn,toJSONObject:_n,isAsyncFn:wn,isThenable:$n,setImmediate:as,asap:Sn,isIterable:Cn};function L(s,t,n,r,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=s,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),a&&(this.response=a,this.status=a.status?a.status:null)}k.inherits(L,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:k.toJSONObject(this.config),code:this.code,status:this.status}}});const os=L.prototype,is={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(s=>{is[s]={value:s}});Object.defineProperties(L,is);Object.defineProperty(os,"isAxiosError",{value:!0});L.from=(s,t,n,r,a,o)=>{const d=Object.create(os);k.toFlatObject(s,d,function(y){return y!==Error.prototype},c=>c!=="isAxiosError");const u=s&&s.message?s.message:"Error",v=t==null&&s?s.code:t;return L.call(d,u,v,n,r,a),s&&d.cause==null&&Object.defineProperty(d,"cause",{value:s,configurable:!0}),d.name=s&&s.name||"Error",o&&Object.assign(d,o),d};const An=null;function lt(s){return k.isPlainObject(s)||k.isArray(s)}function ls(s){return k.endsWith(s,"[]")?s.slice(0,-2):s}function Tt(s,t,n){return s?s.concat(t).map(function(a,o){return a=ls(a),!n&&o?"["+a+"]":a}).join(n?".":""):t}function En(s){return k.isArray(s)&&!s.some(lt)}const On=k.toFlatObject(k,{},null,function(t){return/^is[A-Z]/.test(t)});function Qe(s,t,n){if(!k.isObject(s))throw new TypeError("target must be an object");t=t||new FormData,n=k.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(g,i){return!k.isUndefined(i[g])});const r=n.metaTokens,a=n.visitor||y,o=n.dots,d=n.indexes,v=(n.Blob||typeof Blob<"u"&&Blob)&&k.isSpecCompliantForm(t);if(!k.isFunction(a))throw new TypeError("visitor must be a function");function c(l){if(l===null)return"";if(k.isDate(l))return l.toISOString();if(k.isBoolean(l))return l.toString();if(!v&&k.isBlob(l))throw new L("Blob is not supported. Use a Buffer instead.");return k.isArrayBuffer(l)||k.isTypedArray(l)?v&&typeof Blob=="function"?new Blob([l]):Buffer.from(l):l}function y(l,g,i){let b=l;if(l&&!i&&typeof l=="object"){if(k.endsWith(g,"{}"))g=r?g:g.slice(0,-2),l=JSON.stringify(l);else if(k.isArray(l)&&En(l)||(k.isFileList(l)||k.endsWith(g,"[]"))&&(b=k.toArray(l)))return g=ls(g),b.forEach(function(A,V){!(k.isUndefined(A)||A===null)&&t.append(d===!0?Tt([g],V,o):d===null?g:g+"[]",c(A))}),!1}return lt(l)?!0:(t.append(Tt(i,g,o),c(l)),!1)}const h=[],x=Object.assign(On,{defaultVisitor:y,convertValue:c,isVisitable:lt});function p(l,g){if(!k.isUndefined(l)){if(h.indexOf(l)!==-1)throw Error("Circular reference detected in "+g.join("."));h.push(l),k.forEach(l,function(b,_){(!(k.isUndefined(b)||b===null)&&a.call(t,b,k.isString(_)?_.trim():_,g,x))===!0&&p(b,g?g.concat(_):[_])}),h.pop()}}if(!k.isObject(s))throw new TypeError("data must be an object");return p(s),t}function Bt(s){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(s).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function pt(s,t){this._pairs=[],s&&Qe(s,this,t)}const ds=pt.prototype;ds.append=function(t,n){this._pairs.push([t,n])};ds.toString=function(t){const n=t?function(r){return t.call(this,r,Bt)}:Bt;return this._pairs.map(function(a){return n(a[0])+"="+n(a[1])},"").join("&")};function Rn(s){return encodeURIComponent(s).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function us(s,t,n){if(!t)return s;const r=n&&n.encode||Rn;k.isFunction(n)&&(n={serialize:n});const a=n&&n.serialize;let o;if(a?o=a(t,n):o=k.isURLSearchParams(t)?t.toString():new pt(t,n).toString(r),o){const d=s.indexOf("#");d!==-1&&(s=s.slice(0,d)),s+=(s.indexOf("?")===-1?"?":"&")+o}return s}class Lt{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){k.forEach(this.handlers,function(r){r!==null&&t(r)})}}const cs={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},zn=typeof URLSearchParams<"u"?URLSearchParams:pt,Un=typeof FormData<"u"?FormData:null,Tn=typeof Blob<"u"?Blob:null,Bn={isBrowser:!0,classes:{URLSearchParams:zn,FormData:Un,Blob:Tn},protocols:["http","https","file","blob","url","data"]},ht=typeof window<"u"&&typeof document<"u",dt=typeof navigator=="object"&&navigator||void 0,Ln=ht&&(!dt||["ReactNative","NativeScript","NS"].indexOf(dt.product)<0),Dn=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Fn=ht&&window.location.href||"http://localhost",Mn=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:ht,hasStandardBrowserEnv:Ln,hasStandardBrowserWebWorkerEnv:Dn,navigator:dt,origin:Fn},Symbol.toStringTag,{value:"Module"})),K={...Mn,...Bn};function jn(s,t){return Qe(s,new K.classes.URLSearchParams,{visitor:function(n,r,a,o){return K.isNode&&k.isBuffer(n)?(this.append(r,n.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)},...t})}function Pn(s){return k.matchAll(/\w+|\[(\w*)]/g,s).map(t=>t[0]==="[]"?"":t[1]||t[0])}function In(s){const t={},n=Object.keys(s);let r;const a=n.length;let o;for(r=0;r<a;r++)o=n[r],t[o]=s[o];return t}function ms(s){function t(n,r,a,o){let d=n[o++];if(d==="__proto__")return!0;const u=Number.isFinite(+d),v=o>=n.length;return d=!d&&k.isArray(a)?a.length:d,v?(k.hasOwnProp(a,d)?a[d]=[a[d],r]:a[d]=r,!u):((!a[d]||!k.isObject(a[d]))&&(a[d]=[]),t(n,r,a[d],o)&&k.isArray(a[d])&&(a[d]=In(a[d])),!u)}if(k.isFormData(s)&&k.isFunction(s.entries)){const n={};return k.forEachEntry(s,(r,a)=>{t(Pn(r),a,n,0)}),n}return null}function Nn(s,t,n){if(k.isString(s))try{return(t||JSON.parse)(s),k.trim(s)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(s)}const Fe={transitional:cs,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const r=n.getContentType()||"",a=r.indexOf("application/json")>-1,o=k.isObject(t);if(o&&k.isHTMLForm(t)&&(t=new FormData(t)),k.isFormData(t))return a?JSON.stringify(ms(t)):t;if(k.isArrayBuffer(t)||k.isBuffer(t)||k.isStream(t)||k.isFile(t)||k.isBlob(t)||k.isReadableStream(t))return t;if(k.isArrayBufferView(t))return t.buffer;if(k.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let u;if(o){if(r.indexOf("application/x-www-form-urlencoded")>-1)return jn(t,this.formSerializer).toString();if((u=k.isFileList(t))||r.indexOf("multipart/form-data")>-1){const v=this.env&&this.env.FormData;return Qe(u?{"files[]":t}:t,v&&new v,this.formSerializer)}}return o||a?(n.setContentType("application/json",!1),Nn(t)):t}],transformResponse:[function(t){const n=this.transitional||Fe.transitional,r=n&&n.forcedJSONParsing,a=this.responseType==="json";if(k.isResponse(t)||k.isReadableStream(t))return t;if(t&&k.isString(t)&&(r&&!this.responseType||a)){const d=!(n&&n.silentJSONParsing)&&a;try{return JSON.parse(t,this.parseReviver)}catch(u){if(d)throw u.name==="SyntaxError"?L.from(u,L.ERR_BAD_RESPONSE,this,null,this.response):u}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:K.classes.FormData,Blob:K.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};k.forEach(["delete","get","head","post","put","patch"],s=>{Fe.headers[s]={}});const Vn=k.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),qn=s=>{const t={};let n,r,a;return s&&s.split(`
`).forEach(function(d){a=d.indexOf(":"),n=d.substring(0,a).trim().toLowerCase(),r=d.substring(a+1).trim(),!(!n||t[n]&&Vn[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},Dt=Symbol("internals");function Ae(s){return s&&String(s).trim().toLowerCase()}function qe(s){return s===!1||s==null?s:k.isArray(s)?s.map(qe):String(s)}function Hn(s){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(s);)t[r[1]]=r[2];return t}const Zn=s=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(s.trim());function rt(s,t,n,r,a){if(k.isFunction(r))return r.call(this,t,n);if(a&&(t=n),!!k.isString(t)){if(k.isString(r))return t.indexOf(r)!==-1;if(k.isRegExp(r))return r.test(t)}}function Kn(s){return s.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function Wn(s,t){const n=k.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(s,r+n,{value:function(a,o,d){return this[r].call(this,t,a,o,d)},configurable:!0})})}let Q=class{constructor(t){t&&this.set(t)}set(t,n,r){const a=this;function o(u,v,c){const y=Ae(v);if(!y)throw new Error("header name must be a non-empty string");const h=k.findKey(a,y);(!h||a[h]===void 0||c===!0||c===void 0&&a[h]!==!1)&&(a[h||v]=qe(u))}const d=(u,v)=>k.forEach(u,(c,y)=>o(c,y,v));if(k.isPlainObject(t)||t instanceof this.constructor)d(t,n);else if(k.isString(t)&&(t=t.trim())&&!Zn(t))d(qn(t),n);else if(k.isObject(t)&&k.isIterable(t)){let u={},v,c;for(const y of t){if(!k.isArray(y))throw TypeError("Object iterator must return a key-value pair");u[c=y[0]]=(v=u[c])?k.isArray(v)?[...v,y[1]]:[v,y[1]]:y[1]}d(u,n)}else t!=null&&o(n,t,r);return this}get(t,n){if(t=Ae(t),t){const r=k.findKey(this,t);if(r){const a=this[r];if(!n)return a;if(n===!0)return Hn(a);if(k.isFunction(n))return n.call(this,a,r);if(k.isRegExp(n))return n.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=Ae(t),t){const r=k.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||rt(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let a=!1;function o(d){if(d=Ae(d),d){const u=k.findKey(r,d);u&&(!n||rt(r,r[u],u,n))&&(delete r[u],a=!0)}}return k.isArray(t)?t.forEach(o):o(t),a}clear(t){const n=Object.keys(this);let r=n.length,a=!1;for(;r--;){const o=n[r];(!t||rt(this,this[o],o,t,!0))&&(delete this[o],a=!0)}return a}normalize(t){const n=this,r={};return k.forEach(this,(a,o)=>{const d=k.findKey(r,o);if(d){n[d]=qe(a),delete n[o];return}const u=t?Kn(o):String(o).trim();u!==o&&delete n[o],n[u]=qe(a),r[u]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return k.forEach(this,(r,a)=>{r!=null&&r!==!1&&(n[a]=t&&k.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(a=>r.set(a)),r}static accessor(t){const r=(this[Dt]=this[Dt]={accessors:{}}).accessors,a=this.prototype;function o(d){const u=Ae(d);r[u]||(Wn(a,d),r[u]=!0)}return k.isArray(t)?t.forEach(o):o(t),this}};Q.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);k.reduceDescriptors(Q.prototype,({value:s},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>s,set(r){this[n]=r}}});k.freezeMethods(Q);function at(s,t){const n=this||Fe,r=t||n,a=Q.from(r.headers);let o=r.data;return k.forEach(s,function(u){o=u.call(n,o,a.normalize(),t?t.status:void 0)}),a.normalize(),o}function fs(s){return!!(s&&s.__CANCEL__)}function _e(s,t,n){L.call(this,s??"canceled",L.ERR_CANCELED,t,n),this.name="CanceledError"}k.inherits(_e,L,{__CANCEL__:!0});function gs(s,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?s(n):t(new L("Request failed with status code "+n.status,[L.ERR_BAD_REQUEST,L.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function Gn(s){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(s);return t&&t[1]||""}function Jn(s,t){s=s||10;const n=new Array(s),r=new Array(s);let a=0,o=0,d;return t=t!==void 0?t:1e3,function(v){const c=Date.now(),y=r[o];d||(d=c),n[a]=v,r[a]=c;let h=o,x=0;for(;h!==a;)x+=n[h++],h=h%s;if(a=(a+1)%s,a===o&&(o=(o+1)%s),c-d<t)return;const p=y&&c-y;return p?Math.round(x*1e3/p):void 0}}function Qn(s,t){let n=0,r=1e3/t,a,o;const d=(c,y=Date.now())=>{n=y,a=null,o&&(clearTimeout(o),o=null),s(...c)};return[(...c)=>{const y=Date.now(),h=y-n;h>=r?d(c,y):(a=c,o||(o=setTimeout(()=>{o=null,d(a)},r-h)))},()=>a&&d(a)]}const Ze=(s,t,n=3)=>{let r=0;const a=Jn(50,250);return Qn(o=>{const d=o.loaded,u=o.lengthComputable?o.total:void 0,v=d-r,c=a(v),y=d<=u;r=d;const h={loaded:d,total:u,progress:u?d/u:void 0,bytes:v,rate:c||void 0,estimated:c&&u&&y?(u-d)/c:void 0,event:o,lengthComputable:u!=null,[t?"download":"upload"]:!0};s(h)},n)},Ft=(s,t)=>{const n=s!=null;return[r=>t[0]({lengthComputable:n,total:s,loaded:r}),t[1]]},Mt=s=>(...t)=>k.asap(()=>s(...t)),Xn=K.hasStandardBrowserEnv?((s,t)=>n=>(n=new URL(n,K.origin),s.protocol===n.protocol&&s.host===n.host&&(t||s.port===n.port)))(new URL(K.origin),K.navigator&&/(msie|trident)/i.test(K.navigator.userAgent)):()=>!0,Yn=K.hasStandardBrowserEnv?{write(s,t,n,r,a,o,d){if(typeof document>"u")return;const u=[`${s}=${encodeURIComponent(t)}`];k.isNumber(n)&&u.push(`expires=${new Date(n).toUTCString()}`),k.isString(r)&&u.push(`path=${r}`),k.isString(a)&&u.push(`domain=${a}`),o===!0&&u.push("secure"),k.isString(d)&&u.push(`SameSite=${d}`),document.cookie=u.join("; ")},read(s){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+s+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(s){this.write(s,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function er(s){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(s)}function tr(s,t){return t?s.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):s}function ps(s,t,n){let r=!er(t);return s&&(r||n==!1)?tr(s,t):t}const jt=s=>s instanceof Q?{...s}:s;function pe(s,t){t=t||{};const n={};function r(c,y,h,x){return k.isPlainObject(c)&&k.isPlainObject(y)?k.merge.call({caseless:x},c,y):k.isPlainObject(y)?k.merge({},y):k.isArray(y)?y.slice():y}function a(c,y,h,x){if(k.isUndefined(y)){if(!k.isUndefined(c))return r(void 0,c,h,x)}else return r(c,y,h,x)}function o(c,y){if(!k.isUndefined(y))return r(void 0,y)}function d(c,y){if(k.isUndefined(y)){if(!k.isUndefined(c))return r(void 0,c)}else return r(void 0,y)}function u(c,y,h){if(h in t)return r(c,y);if(h in s)return r(void 0,c)}const v={url:o,method:o,data:o,baseURL:d,transformRequest:d,transformResponse:d,paramsSerializer:d,timeout:d,timeoutMessage:d,withCredentials:d,withXSRFToken:d,adapter:d,responseType:d,xsrfCookieName:d,xsrfHeaderName:d,onUploadProgress:d,onDownloadProgress:d,decompress:d,maxContentLength:d,maxBodyLength:d,beforeRedirect:d,transport:d,httpAgent:d,httpsAgent:d,cancelToken:d,socketPath:d,responseEncoding:d,validateStatus:u,headers:(c,y,h)=>a(jt(c),jt(y),h,!0)};return k.forEach(Object.keys({...s,...t}),function(y){const h=v[y]||a,x=h(s[y],t[y],y);k.isUndefined(x)&&h!==u||(n[y]=x)}),n}const hs=s=>{const t=pe({},s);let{data:n,withXSRFToken:r,xsrfHeaderName:a,xsrfCookieName:o,headers:d,auth:u}=t;if(t.headers=d=Q.from(d),t.url=us(ps(t.baseURL,t.url,t.allowAbsoluteUrls),s.params,s.paramsSerializer),u&&d.set("Authorization","Basic "+btoa((u.username||"")+":"+(u.password?unescape(encodeURIComponent(u.password)):""))),k.isFormData(n)){if(K.hasStandardBrowserEnv||K.hasStandardBrowserWebWorkerEnv)d.setContentType(void 0);else if(k.isFunction(n.getHeaders)){const v=n.getHeaders(),c=["content-type","content-length"];Object.entries(v).forEach(([y,h])=>{c.includes(y.toLowerCase())&&d.set(y,h)})}}if(K.hasStandardBrowserEnv&&(r&&k.isFunction(r)&&(r=r(t)),r||r!==!1&&Xn(t.url))){const v=a&&o&&Yn.read(o);v&&d.set(a,v)}return t},sr=typeof XMLHttpRequest<"u",nr=sr&&function(s){return new Promise(function(n,r){const a=hs(s);let o=a.data;const d=Q.from(a.headers).normalize();let{responseType:u,onUploadProgress:v,onDownloadProgress:c}=a,y,h,x,p,l;function g(){p&&p(),l&&l(),a.cancelToken&&a.cancelToken.unsubscribe(y),a.signal&&a.signal.removeEventListener("abort",y)}let i=new XMLHttpRequest;i.open(a.method.toUpperCase(),a.url,!0),i.timeout=a.timeout;function b(){if(!i)return;const A=Q.from("getAllResponseHeaders"in i&&i.getAllResponseHeaders()),I={data:!u||u==="text"||u==="json"?i.responseText:i.response,status:i.status,statusText:i.statusText,headers:A,config:s,request:i};gs(function(q){n(q),g()},function(q){r(q),g()},I),i=null}"onloadend"in i?i.onloadend=b:i.onreadystatechange=function(){!i||i.readyState!==4||i.status===0&&!(i.responseURL&&i.responseURL.indexOf("file:")===0)||setTimeout(b)},i.onabort=function(){i&&(r(new L("Request aborted",L.ECONNABORTED,s,i)),i=null)},i.onerror=function(V){const I=V&&V.message?V.message:"Network Error",E=new L(I,L.ERR_NETWORK,s,i);E.event=V||null,r(E),i=null},i.ontimeout=function(){let V=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const I=a.transitional||cs;a.timeoutErrorMessage&&(V=a.timeoutErrorMessage),r(new L(V,I.clarifyTimeoutError?L.ETIMEDOUT:L.ECONNABORTED,s,i)),i=null},o===void 0&&d.setContentType(null),"setRequestHeader"in i&&k.forEach(d.toJSON(),function(V,I){i.setRequestHeader(I,V)}),k.isUndefined(a.withCredentials)||(i.withCredentials=!!a.withCredentials),u&&u!=="json"&&(i.responseType=a.responseType),c&&([x,l]=Ze(c,!0),i.addEventListener("progress",x)),v&&i.upload&&([h,p]=Ze(v),i.upload.addEventListener("progress",h),i.upload.addEventListener("loadend",p)),(a.cancelToken||a.signal)&&(y=A=>{i&&(r(!A||A.type?new _e(null,s,i):A),i.abort(),i=null)},a.cancelToken&&a.cancelToken.subscribe(y),a.signal&&(a.signal.aborted?y():a.signal.addEventListener("abort",y)));const _=Gn(a.url);if(_&&K.protocols.indexOf(_)===-1){r(new L("Unsupported protocol "+_+":",L.ERR_BAD_REQUEST,s));return}i.send(o||null)})},rr=(s,t)=>{const{length:n}=s=s?s.filter(Boolean):[];if(t||n){let r=new AbortController,a;const o=function(c){if(!a){a=!0,u();const y=c instanceof Error?c:this.reason;r.abort(y instanceof L?y:new _e(y instanceof Error?y.message:y))}};let d=t&&setTimeout(()=>{d=null,o(new L(`timeout ${t} of ms exceeded`,L.ETIMEDOUT))},t);const u=()=>{s&&(d&&clearTimeout(d),d=null,s.forEach(c=>{c.unsubscribe?c.unsubscribe(o):c.removeEventListener("abort",o)}),s=null)};s.forEach(c=>c.addEventListener("abort",o));const{signal:v}=r;return v.unsubscribe=()=>k.asap(u),v}},ar=function*(s,t){let n=s.byteLength;if(n<t){yield s;return}let r=0,a;for(;r<n;)a=r+t,yield s.slice(r,a),r=a},or=async function*(s,t){for await(const n of ir(s))yield*ar(n,t)},ir=async function*(s){if(s[Symbol.asyncIterator]){yield*s;return}const t=s.getReader();try{for(;;){const{done:n,value:r}=await t.read();if(n)break;yield r}}finally{await t.cancel()}},Pt=(s,t,n,r)=>{const a=or(s,t);let o=0,d,u=v=>{d||(d=!0,r&&r(v))};return new ReadableStream({async pull(v){try{const{done:c,value:y}=await a.next();if(c){u(),v.close();return}let h=y.byteLength;if(n){let x=o+=h;n(x)}v.enqueue(new Uint8Array(y))}catch(c){throw u(c),c}},cancel(v){return u(v),a.return()}},{highWaterMark:2})},It=64*1024,{isFunction:Ie}=k,lr=(({Request:s,Response:t})=>({Request:s,Response:t}))(k.global),{ReadableStream:Nt,TextEncoder:Vt}=k.global,qt=(s,...t)=>{try{return!!s(...t)}catch{return!1}},dr=s=>{s=k.merge.call({skipUndefined:!0},lr,s);const{fetch:t,Request:n,Response:r}=s,a=t?Ie(t):typeof fetch=="function",o=Ie(n),d=Ie(r);if(!a)return!1;const u=a&&Ie(Nt),v=a&&(typeof Vt=="function"?(l=>g=>l.encode(g))(new Vt):async l=>new Uint8Array(await new n(l).arrayBuffer())),c=o&&u&&qt(()=>{let l=!1;const g=new n(K.origin,{body:new Nt,method:"POST",get duplex(){return l=!0,"half"}}).headers.has("Content-Type");return l&&!g}),y=d&&u&&qt(()=>k.isReadableStream(new r("").body)),h={stream:y&&(l=>l.body)};a&&["text","arrayBuffer","blob","formData","stream"].forEach(l=>{!h[l]&&(h[l]=(g,i)=>{let b=g&&g[l];if(b)return b.call(g);throw new L(`Response type '${l}' is not supported`,L.ERR_NOT_SUPPORT,i)})});const x=async l=>{if(l==null)return 0;if(k.isBlob(l))return l.size;if(k.isSpecCompliantForm(l))return(await new n(K.origin,{method:"POST",body:l}).arrayBuffer()).byteLength;if(k.isArrayBufferView(l)||k.isArrayBuffer(l))return l.byteLength;if(k.isURLSearchParams(l)&&(l=l+""),k.isString(l))return(await v(l)).byteLength},p=async(l,g)=>{const i=k.toFiniteNumber(l.getContentLength());return i??x(g)};return async l=>{let{url:g,method:i,data:b,signal:_,cancelToken:A,timeout:V,onDownloadProgress:I,onUploadProgress:E,responseType:q,headers:G,withCredentials:te="same-origin",fetchOptions:$e}=hs(l),Se=t||fetch;q=q?(q+"").toLowerCase():"text";let ce=rr([_,A&&A.toAbortSignal()],V),Ce=null;const me=ce&&ce.unsubscribe&&(()=>{ce.unsubscribe()});let wt;try{if(E&&c&&i!=="get"&&i!=="head"&&(wt=await p(G,b))!==0){let de=new n(g,{method:"POST",body:b,duplex:"half"}),xe;if(k.isFormData(b)&&(xe=de.headers.get("content-type"))&&G.setContentType(xe),de.body){const[nt,Pe]=Ft(wt,Ze(Mt(E)));b=Pt(de.body,It,nt,Pe)}}k.isString(te)||(te=te?"include":"omit");const ne=o&&"credentials"in n.prototype,$t={...$e,signal:ce,method:i.toUpperCase(),headers:G.normalize().toJSON(),body:b,duplex:"half",credentials:ne?te:void 0};Ce=o&&new n(g,$t);let le=await(o?Se(Ce,$e):Se(g,$t));const St=y&&(q==="stream"||q==="response");if(y&&(I||St&&me)){const de={};["status","statusText","headers"].forEach(Ct=>{de[Ct]=le[Ct]});const xe=k.toFiniteNumber(le.headers.get("content-length")),[nt,Pe]=I&&Ft(xe,Ze(Mt(I),!0))||[];le=new r(Pt(le.body,It,nt,()=>{Pe&&Pe(),me&&me()}),de)}q=q||"text";let Os=await h[k.findKey(h,q)||"text"](le,l);return!St&&me&&me(),await new Promise((de,xe)=>{gs(de,xe,{data:Os,headers:Q.from(le.headers),status:le.status,statusText:le.statusText,config:l,request:Ce})})}catch(ne){throw me&&me(),ne&&ne.name==="TypeError"&&/Load failed|fetch/i.test(ne.message)?Object.assign(new L("Network Error",L.ERR_NETWORK,l,Ce),{cause:ne.cause||ne}):L.from(ne,ne&&ne.code,l,Ce)}}},ur=new Map,ys=s=>{let t=s&&s.env||{};const{fetch:n,Request:r,Response:a}=t,o=[r,a,n];let d=o.length,u=d,v,c,y=ur;for(;u--;)v=o[u],c=y.get(v),c===void 0&&y.set(v,c=u?new Map:dr(t)),y=c;return c};ys();const yt={http:An,xhr:nr,fetch:{get:ys}};k.forEach(yt,(s,t)=>{if(s){try{Object.defineProperty(s,"name",{value:t})}catch{}Object.defineProperty(s,"adapterName",{value:t})}});const Ht=s=>`- ${s}`,cr=s=>k.isFunction(s)||s===null||s===!1;function mr(s,t){s=k.isArray(s)?s:[s];const{length:n}=s;let r,a;const o={};for(let d=0;d<n;d++){r=s[d];let u;if(a=r,!cr(r)&&(a=yt[(u=String(r)).toLowerCase()],a===void 0))throw new L(`Unknown adapter '${u}'`);if(a&&(k.isFunction(a)||(a=a.get(t))))break;o[u||"#"+d]=a}if(!a){const d=Object.entries(o).map(([v,c])=>`adapter ${v} `+(c===!1?"is not supported by the environment":"is not available in the build"));let u=n?d.length>1?`since :
`+d.map(Ht).join(`
`):" "+Ht(d[0]):"as no adapter specified";throw new L("There is no suitable adapter to dispatch the request "+u,"ERR_NOT_SUPPORT")}return a}const xs={getAdapter:mr,adapters:yt};function ot(s){if(s.cancelToken&&s.cancelToken.throwIfRequested(),s.signal&&s.signal.aborted)throw new _e(null,s)}function Zt(s){return ot(s),s.headers=Q.from(s.headers),s.data=at.call(s,s.transformRequest),["post","put","patch"].indexOf(s.method)!==-1&&s.headers.setContentType("application/x-www-form-urlencoded",!1),xs.getAdapter(s.adapter||Fe.adapter,s)(s).then(function(r){return ot(s),r.data=at.call(s,s.transformResponse,r),r.headers=Q.from(r.headers),r},function(r){return fs(r)||(ot(s),r&&r.response&&(r.response.data=at.call(s,s.transformResponse,r.response),r.response.headers=Q.from(r.response.headers))),Promise.reject(r)})}const vs="1.13.1",Xe={};["object","boolean","number","function","string","symbol"].forEach((s,t)=>{Xe[s]=function(r){return typeof r===s||"a"+(t<1?"n ":" ")+s}});const Kt={};Xe.transitional=function(t,n,r){function a(o,d){return"[Axios v"+vs+"] Transitional option '"+o+"'"+d+(r?". "+r:"")}return(o,d,u)=>{if(t===!1)throw new L(a(d," has been removed"+(n?" in "+n:"")),L.ERR_DEPRECATED);return n&&!Kt[d]&&(Kt[d]=!0,console.warn(a(d," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(o,d,u):!0}};Xe.spelling=function(t){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${t}`),!0)};function fr(s,t,n){if(typeof s!="object")throw new L("options must be an object",L.ERR_BAD_OPTION_VALUE);const r=Object.keys(s);let a=r.length;for(;a-- >0;){const o=r[a],d=t[o];if(d){const u=s[o],v=u===void 0||d(u,o,s);if(v!==!0)throw new L("option "+o+" must be "+v,L.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new L("Unknown option "+o,L.ERR_BAD_OPTION)}}const He={assertOptions:fr,validators:Xe},re=He.validators;let ge=class{constructor(t){this.defaults=t||{},this.interceptors={request:new Lt,response:new Lt}}async request(t,n){try{return await this._request(t,n)}catch(r){if(r instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const o=a.stack?a.stack.replace(/^.+\n/,""):"";try{r.stack?o&&!String(r.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+o):r.stack=o}catch{}}throw r}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=pe(this.defaults,n);const{transitional:r,paramsSerializer:a,headers:o}=n;r!==void 0&&He.assertOptions(r,{silentJSONParsing:re.transitional(re.boolean),forcedJSONParsing:re.transitional(re.boolean),clarifyTimeoutError:re.transitional(re.boolean)},!1),a!=null&&(k.isFunction(a)?n.paramsSerializer={serialize:a}:He.assertOptions(a,{encode:re.function,serialize:re.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),He.assertOptions(n,{baseUrl:re.spelling("baseURL"),withXsrfToken:re.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let d=o&&k.merge(o.common,o[n.method]);o&&k.forEach(["delete","get","head","post","put","patch","common"],l=>{delete o[l]}),n.headers=Q.concat(d,o);const u=[];let v=!0;this.interceptors.request.forEach(function(g){typeof g.runWhen=="function"&&g.runWhen(n)===!1||(v=v&&g.synchronous,u.unshift(g.fulfilled,g.rejected))});const c=[];this.interceptors.response.forEach(function(g){c.push(g.fulfilled,g.rejected)});let y,h=0,x;if(!v){const l=[Zt.bind(this),void 0];for(l.unshift(...u),l.push(...c),x=l.length,y=Promise.resolve(n);h<x;)y=y.then(l[h++],l[h++]);return y}x=u.length;let p=n;for(;h<x;){const l=u[h++],g=u[h++];try{p=l(p)}catch(i){g.call(this,i);break}}try{y=Zt.call(this,p)}catch(l){return Promise.reject(l)}for(h=0,x=c.length;h<x;)y=y.then(c[h++],c[h++]);return y}getUri(t){t=pe(this.defaults,t);const n=ps(t.baseURL,t.url,t.allowAbsoluteUrls);return us(n,t.params,t.paramsSerializer)}};k.forEach(["delete","get","head","options"],function(t){ge.prototype[t]=function(n,r){return this.request(pe(r||{},{method:t,url:n,data:(r||{}).data}))}});k.forEach(["post","put","patch"],function(t){function n(r){return function(o,d,u){return this.request(pe(u||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:o,data:d}))}}ge.prototype[t]=n(),ge.prototype[t+"Form"]=n(!0)});let gr=class bs{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(o){n=o});const r=this;this.promise.then(a=>{if(!r._listeners)return;let o=r._listeners.length;for(;o-- >0;)r._listeners[o](a);r._listeners=null}),this.promise.then=a=>{let o;const d=new Promise(u=>{r.subscribe(u),o=u}).then(a);return d.cancel=function(){r.unsubscribe(o)},d},t(function(o,d,u){r.reason||(r.reason=new _e(o,d,u),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=r=>{t.abort(r)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new bs(function(a){t=a}),cancel:t}}};function pr(s){return function(n){return s.apply(null,n)}}function hr(s){return k.isObject(s)&&s.isAxiosError===!0}const ut={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(ut).forEach(([s,t])=>{ut[t]=s});function ks(s){const t=new ge(s),n=Xt(ge.prototype.request,t);return k.extend(n,ge.prototype,t,{allOwnKeys:!0}),k.extend(n,t,null,{allOwnKeys:!0}),n.create=function(a){return ks(pe(s,a))},n}const H=ks(Fe);H.Axios=ge;H.CanceledError=_e;H.CancelToken=gr;H.isCancel=fs;H.VERSION=vs;H.toFormData=Qe;H.AxiosError=L;H.Cancel=H.CanceledError;H.all=function(t){return Promise.all(t)};H.spread=pr;H.isAxiosError=hr;H.mergeConfig=pe;H.AxiosHeaders=Q;H.formToJSON=s=>ms(k.isHTMLForm(s)?new FormData(s):s);H.getAdapter=xs.getAdapter;H.HttpStatusCode=ut;H.default=H;const{Axios:Bf,AxiosError:Lf,CanceledError:Df,isCancel:Ff,CancelToken:Mf,VERSION:jf,all:Pf,Cancel:If,isAxiosError:Nf,spread:Vf,toFormData:qf,AxiosHeaders:Hf,HttpStatusCode:Zf,formToJSON:Kf,getAdapter:Wf,mergeConfig:Gf}=H,ve={api:{baseUrl:"/api",timeout:1e4},auth:{serviceUrl:"https://localhost:8443"}};class yr{constructor(t=ve.api.baseUrl){this.authToken=null,this.client=H.create({baseURL:t,timeout:ve.api.timeout,headers:{"Content-Type":"application/json"}}),this.setupInterceptors()}setupInterceptors(){this.client.interceptors.request.use(t=>(this.authToken&&(t.headers.Authorization=`Bearer ${this.authToken}`),t),t=>Promise.reject(t)),this.client.interceptors.response.use(t=>t,async t=>{var a,o,d,u,v,c,y;const n=t.config;if(((a=t.response)==null?void 0:a.status)===401&&!n._retry){n._retry=!0;try{const x=(await this.client.post("/auth/refresh")).data.access_token;return this.setAuthToken(x),localStorage.setItem("auth_token",x),n.headers.Authorization=`Bearer ${x}`,this.client(n)}catch(h){this.setAuthToken(null),localStorage.removeItem("auth_token");const x=`${window.location.origin}${window.location.pathname}${window.location.search}${window.location.hash}`,p=`${ve.auth.serviceUrl}/?redirect=${encodeURIComponent(x)}`;return window.location.href=p,Promise.reject(h)}}const r={message:((d=(o=t.response)==null?void 0:o.data)==null?void 0:d.message)||t.message||"An error occurred",code:((v=(u=t.response)==null?void 0:u.data)==null?void 0:v.code)||t.code,details:(y=(c=t.response)==null?void 0:c.data)==null?void 0:y.details};return Promise.reject(r)})}setAuthToken(t){this.authToken=t}async get(t,n){return this.client.get(t,n)}async post(t,n,r){return this.client.post(t,n,r)}async put(t,n,r){return this.client.put(t,n,r)}async patch(t,n,r){return this.client.patch(t,n,r)}async delete(t,n){return this.client.delete(t,n)}async uploadFile(t,n,r){const a=new FormData;return a.append("file",n),this.client.post(t,a,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:o=>{if(r&&o.total){const d=Math.round(o.loaded*100/o.total);r(d)}}})}async healthCheck(){try{return await this.client.get("/health"),!0}catch{return!1}}}const T=new yr,we=oe("auth",()=>{const s=C(null),t=C(!1),n=C(localStorage.getItem("auth_token")),r=O(()=>!!s.value&&!!n.value),a=O(()=>{var l;return((l=s.value)==null?void 0:l.admin.includes("all"))||!1}),o=O(()=>{var l;return((l=s.value)==null?void 0:l.admin)||[]}),d=l=>{n.value=l,l?(localStorage.setItem("auth_token",l),T.setAuthToken(l)):(localStorage.removeItem("auth_token"),T.setAuthToken(null))},u=l=>{s.value=l},v=async l=>{t.value=!0;try{const g=await T.post("/auth/login",l);d(g.data.access_token),u(g.data.user)}catch(g){throw d(null),u(null),g}finally{t.value=!1}},c=async()=>{try{n.value&&await T.post("/auth/logout")}catch(l){console.warn("Logout request failed:",l)}finally{d(null),u(null)}},y=async()=>{if(n.value){t.value=!0;try{T.setAuthToken(n.value);const l=await T.get("/api/auth/me");u(l.data)}catch(l){console.warn("Auth check failed:",l),d(null),u(null)}finally{t.value=!1}}},h=async()=>{if(!n.value)throw new Error("No token to refresh");try{const l=await T.post("/auth/refresh");d(l.data.access_token)}catch(l){throw d(null),u(null),l}},x=l=>s.value?!!(s.value.admin.includes("all")||l&&s.value.admin.includes(l)):!1,p=l=>{var i,b;return(b=(i=s.value)==null?void 0:i.claims)!=null&&b.roles?(Array.isArray(s.value.claims.roles)?s.value.claims.roles:[]).includes(l):!1};return n.value&&T.setAuthToken(n.value),{user:s,isLoading:t,token:n,isAuthenticated:r,isAdmin:a,adminOrgs:o,login:v,logout:c,checkAuth:y,refreshToken:h,hasAdminAccess:x,hasRole:p,setToken:d,setUser:u}}),Ye=oe("system",()=>{const s=C(null),t=C(!1),n=C(!1),r=async()=>{t.value=!0;try{const o=await T.get("/system/status");s.value=o.data}catch(o){console.error("Failed to load system status:",o),s.value={status:"unhealthy",auth_service:!1,admin_service:!1,auth_data_stale:!0,last_updated:new Date().toISOString(),services:{}}}finally{t.value=!1}};return{systemStatus:s,isLoading:t,isReloading:n,loadSystemStatus:r,reloadAuthService:async()=>{n.value=!0;try{await T.post("/system/reload-auth"),await r()}catch(o){throw console.error("Failed to reload auth service:",o),o}finally{n.value=!1}}}});function xr(s,t){return m(),f("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.75 9V5.25A2.25 2.25 0 0 0 13.5 3h-6a2.25 2.25 0 0 0-2.25 2.25v13.5A2.25 2.25 0 0 0 7.5 21h6a2.25 2.25 0 0 0 2.25-2.25V15M12 9l-3 3m0 0 3 3m-3-3h12.75"})])}function et(s,t){return m(),f("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"})])}function Me(s,t){return m(),f("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"})])}function vr(s,t){return m(),f("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.75 9V5.25A2.25 2.25 0 0 0 13.5 3h-6a2.25 2.25 0 0 0-2.25 2.25v13.5A2.25 2.25 0 0 0 7.5 21h6a2.25 2.25 0 0 0 2.25-2.25V15m3 0 3-3m0 0-3-3m3 3H9"})])}function br(s,t){return m(),f("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"})])}function kr(s,t){return m(),f("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M14.857 17.082a23.848 23.848 0 0 0 5.454-1.31A8.967 8.967 0 0 1 18 9.75V9A6 6 0 0 0 6 9v.75a8.967 8.967 0 0 1-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 0 1-5.714 0m5.714 0a3 3 0 1 1-5.714 0"})])}function Oe(s,t){return m(),f("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3.75 21h16.5M4.5 3h15M5.25 3v18m13.5-18v18M9 6.75h1.5m-1.5 3h1.5m-1.5 3h1.5m3-6H15m-1.5 3H15m-1.5 3H15M9 21v-3.375c0-.621.504-1.125 1.125-1.125h3.75c.621 0 1.125.504 1.125 1.125V21"})])}function _s(s,t){return m(),f("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z"})])}function Ke(s,t){return m(),f("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})])}function _r(s,t){return m(),f("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"})])}function wr(s,t){return m(),f("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m8.25 4.5 7.5 7.5-7.5 7.5"})])}function he(s,t){return m(),f("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})])}function tt(s,t){return m(),f("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M4.5 12a7.5 7.5 0 0 0 15 0m-15 0a7.5 7.5 0 1 1 15 0m-15 0H3m16.5 0H21m-1.5 0H12m-8.457 3.077 1.41-.513m14.095-5.13 1.41-.513M5.106 17.785l1.15-.964m11.49-9.642 1.149-.964M7.501 19.795l.75-1.3m7.5-12.99.75-1.3m-6.063 16.658.26-1.477m2.605-14.772.26-1.477m0 17.726-.26-1.477M10.698 4.614l-.26-1.477M16.5 19.794l-.75-1.299M7.5 4.205 12 12m6.894 5.785-1.149-.964M6.256 7.178l-1.15-.964m15.352 8.864-1.41-.513M4.954 9.435l-1.41-.514M12.002 12l-3.75 6.495"})])}function ct(s,t){return m(),f("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 17.25v1.007a3 3 0 0 1-.879 2.122L7.5 21h9l-.621-.621A3 3 0 0 1 15 18.257V17.25m6-12V15a2.25 2.25 0 0 1-2.25 2.25H5.25A2.25 2.25 0 0 1 3 15V5.25m18 0A2.25 2.25 0 0 0 18.75 3H5.25A2.25 2.25 0 0 0 3 5.25m18 0V12a2.25 2.25 0 0 1-2.25 2.25H5.25A2.25 2.25 0 0 1 3 12V5.25"})])}function $r(s,t){return m(),f("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M10.5 1.5H8.25A2.25 2.25 0 0 0 6 3.75v16.5a2.25 2.25 0 0 0 2.25 2.25h7.5A2.25 2.25 0 0 0 18 20.25V3.75a2.25 2.25 0 0 0-2.25-2.25H13.5m-3 0V3h3V1.5m-3 0h3m-3 18.75h3"})])}function ws(s,t){return m(),f("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m6.75 12-3-3m0 0-3 3m3-3v6m-1.5-15H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"})])}function je(s,t){return m(),f("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"})])}function Sr(s,t){return m(),f("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"})])}function xt(s,t){return m(),f("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z"})])}function ye(s,t){return m(),f("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.75 5.25a3 3 0 0 1 3 3m3 0a6 6 0 0 1-7.029 5.912c-.563-.097-1.159.026-1.563.43L10.5 17.25H8.25v2.25H6v2.25H2.25v-2.818c0-.597.237-1.17.659-1.591l6.499-6.499c.404-.404.527-1 .43-1.563A6 6 0 1 1 21.75 8.25Z"})])}function Cr(s,t){return m(),f("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"})])}function Ar(s,t){return m(),f("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M21.752 15.002A9.72 9.72 0 0 1 18 15.75c-5.385 0-9.75-4.365-9.75-9.75 0-1.33.266-2.597.748-3.752A9.753 9.753 0 0 0 3 11.25C3 16.635 7.365 21 12.75 21a9.753 9.753 0 0 0 9.002-5.998Z"})])}function Er(s,t){return m(),f("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"})])}function Re(s,t){return m(),f("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 4.5v15m7.5-7.5h-15"})])}function mt(s,t){return m(),f("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12.75 11.25 15 15 9.75m-3-7.036A11.959 11.959 0 0 1 3.598 6 11.99 11.99 0 0 0 3 9.749c0 5.592 3.824 10.29 9 11.623 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.285Z"})])}function Or(s,t){return m(),f("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v3.75m0-10.036A11.959 11.959 0 0 1 3.598 6 11.99 11.99 0 0 0 3 9.75c0 5.592 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.57-.598-3.75h-.152c-3.196 0-6.1-1.25-8.25-3.286Zm0 13.036h.008v.008H12v-.008Z"})])}function Rr(s,t){return m(),f("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 3v2.25m6.364.386-1.591 1.591M21 12h-2.25m-.386 6.364-1.591-1.591M12 18.75V21m-4.773-4.227-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0Z"})])}function zr(s,t){return m(),f("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9.568 3H5.25A2.25 2.25 0 0 0 3 5.25v4.318c0 .597.237 1.17.659 1.591l9.581 9.581c.699.699 1.78.872 2.607.33a18.095 18.095 0 0 0 5.223-5.223c.542-.827.369-1.908-.33-2.607L11.16 3.66A2.25 2.25 0 0 0 9.568 3Z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 6h.008v.008H6V6Z"})])}function Ur(s,t){return m(),f("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M18 18.72a9.094 9.094 0 0 0 3.741-.479 3 3 0 0 0-4.682-2.72m.94 3.198.001.031c0 .225-.012.447-.037.666A11.944 11.944 0 0 1 12 21c-2.17 0-4.207-.576-5.963-1.584A6.062 6.062 0 0 1 6 18.719m12 0a5.971 5.971 0 0 0-.941-3.197m0 0A5.995 5.995 0 0 0 12 12.75a5.995 5.995 0 0 0-5.058 2.772m0 0a3 3 0 0 0-4.681 2.72 8.986 8.986 0 0 0 3.74.477m.94-3.197a5.971 5.971 0 0 0-.94 3.197M15 6.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm6 3a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Zm-13.5 0a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Z"})])}function $s(s,t){return m(),f("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M18 7.5v3m0 0v3m0-3h3m-3 0h-3m-2.25-4.125a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0ZM3 19.235v-.11a6.375 6.375 0 0 1 12.75 0v.109A12.318 12.318 0 0 1 9.374 21c-2.331 0-4.512-.645-6.374-1.766Z"})])}function Ss(s,t){return m(),f("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"})])}function ze(s,t){return m(),f("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 19.128a9.38 9.38 0 0 0 2.625.372 9.337 9.337 0 0 0 4.121-.952 4.125 4.125 0 0 0-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 0 1 8.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0 1 11.964-3.07M12 6.375a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0Zm8.25 2.25a2.625 2.625 0 1 1-5.25 0 2.625 2.625 0 0 1 5.25 0Z"})])}function vt(s,t){return m(),f("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m9.75 9.75 4.5 4.5m0-4.5-4.5 4.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})])}function Cs(s,t){return m(),f("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18 18 6M6 6l12 12"})])}const Tr="/logo.svg",bt=oe("users",()=>{const s=C([]),t=C(null),n=C(!1),r=C({}),a=O(()=>{let p=s.value;if(r.value.org&&(p=p.filter(l=>l.org===r.value.org)),r.value.status&&(p=p.filter(l=>l.status===r.value.status)),r.value.admin_only&&(p=p.filter(l=>l.admin.length>0)),r.value.search){const l=r.value.search.toLowerCase();p=p.filter(g=>g.email.toLowerCase().includes(l)||g.first_name.toLowerCase().includes(l)||g.last_name.toLowerCase().includes(l)||`${g.first_name} ${g.last_name}`.toLowerCase().includes(l))}return p}),o=O(()=>{const p={};return s.value.forEach(l=>{p[l.org]||(p[l.org]=[]),p[l.org].push(l)}),p});return{users:s,currentUser:t,isLoading:n,filters:r,filteredUsers:a,usersByOrg:o,loadUsers:async p=>{n.value=!0;try{const l=p?{org:p}:{},g=await T.get("/users",{params:l});s.value=g.data}catch(l){throw console.error("Failed to load users:",l),l}finally{n.value=!1}},loadUser:async p=>{try{const l=await T.get(`/users/${p}`);return t.value=l.data,l.data}catch(l){throw console.error("Failed to load user:",l),l}},createUser:async p=>{try{const g=(await T.post("/users",p)).data;return s.value.push(g),g}catch(l){throw console.error("Failed to create user:",l),l}},updateUser:async(p,l)=>{var g;try{const b=(await T.patch(`/users/${p}`,l)).data,_=s.value.findIndex(A=>A.id===p);return _!==-1&&(s.value[_]=b),((g=t.value)==null?void 0:g.id)===p&&(t.value=b),b}catch(i){throw console.error("Failed to update user:",i),i}},deleteUser:async p=>{var l;try{await T.delete(`/users/${p}`),s.value=s.value.filter(g=>g.id!==p),((l=t.value)==null?void 0:l.id)===p&&(t.value=null)}catch(g){throw console.error("Failed to delete user:",g),g}},setFilters:p=>{r.value={...r.value,...p}},clearFilters:()=>{r.value={}}}}),Br=["src","alt"],st=M({__name:"Avatar",props:{user:{},size:{default:"md"}},setup(s){const t=s,n=O(()=>{switch(t.size){case"xs":return"h-6 w-6";case"sm":return"h-8 w-8";case"md":return"h-10 w-10";case"lg":return"h-12 w-12";case"xl":return"h-16 w-16";default:return"h-10 w-10"}}),r=O(()=>{switch(t.size){case"xs":return"text-xs";case"sm":return"text-sm";case"md":return"text-base";case"lg":return"text-lg";case"xl":return"text-xl";default:return"text-base"}}),a=O(()=>{var o;if(!t.user)return"?";if(t.user.first_name&&t.user.last_name)return`${t.user.first_name.charAt(0)}${t.user.last_name.charAt(0)}`.toUpperCase();if(t.user.full_name){const d=t.user.full_name.split(" ");return d.length>=2?`${d[0].charAt(0)}${d[d.length-1].charAt(0)}`.toUpperCase():d[0].charAt(0).toUpperCase()}return((o=t.user.email)==null?void 0:o.charAt(0).toUpperCase())||"?"});return(o,d)=>{var u;return m(),f("div",{class:j(["inline-flex items-center justify-center rounded-full bg-gray-500 overflow-hidden",n.value])},[(u=s.user)!=null&&u.avatar_url?(m(),f("img",{key:0,src:s.user.avatar_url,alt:s.user.full_name||s.user.email,class:"h-full w-full object-cover"},null,8,Br)):(m(),f("span",{key:1,class:j(["font-medium text-white",r.value])},$(a.value),3))],2)}}}),W=M({__name:"Badge",props:{count:{},color:{default:"gray"},text:{},dot:{type:Boolean,default:!1}},setup(s){const t=s,n=O(()=>t.text||t.dot?!0:typeof t.count=="number"?t.count>0:typeof t.count=="string"?t.count.length>0:!1),r=O(()=>t.text?t.text:t.dot?"":typeof t.count=="number"?t.count>99?"99+":t.count.toString():t.count||""),a=O(()=>({gray:"bg-gray-50 text-gray-600 ring-gray-500/10 dark:bg-gray-400/10 dark:text-gray-400 dark:ring-gray-400/20",red:"bg-red-50 text-red-700 ring-red-600/10 dark:bg-red-400/10 dark:text-red-400 dark:ring-red-400/20",yellow:"bg-yellow-50 text-yellow-800 ring-yellow-600/20 dark:bg-yellow-400/10 dark:text-yellow-500 dark:ring-yellow-400/20",green:"bg-green-50 text-green-700 ring-green-600/20 dark:bg-green-500/10 dark:text-green-400 dark:ring-green-500/20",blue:"bg-blue-50 text-blue-700 ring-blue-700/10 dark:bg-blue-400/10 dark:text-blue-400 dark:ring-blue-400/30",indigo:"bg-indigo-50 text-indigo-700 ring-indigo-700/10 dark:bg-indigo-400/10 dark:text-indigo-400 dark:ring-indigo-400/30",purple:"bg-purple-50 text-purple-700 ring-purple-700/10 dark:bg-purple-400/10 dark:text-purple-400 dark:ring-purple-400/30",pink:"bg-pink-50 text-pink-700 ring-pink-700/10 dark:bg-pink-400/10 dark:text-pink-400 dark:ring-pink-400/20"})[t.color]);return(o,d)=>n.value?(m(),f("span",{key:0,class:j(["inline-flex items-center rounded-full px-2 py-1 text-xs font-medium ring-1 ring-inset",a.value])},$(r.value),3)):B("",!0)}}),Lr={class:"flex flex-1 flex-col"},Dr={role:"list",class:"flex flex-1 flex-col gap-y-7"},Fr={role:"list",class:"-mx-2 space-y-1"},Mr={class:"mt-auto"},jr={class:"border-t border-gray-200 dark:border-gray-700 pt-4"},Pr={class:"flex items-center gap-x-3 px-2 py-3"},Ir={class:"flex-1 text-sm leading-6"},Nr={class:"font-semibold text-gray-900 dark:text-white"},Vr={class:"text-gray-600 dark:text-gray-400 truncate"},qr={class:"mt-2 space-y-1"},Wt=M({__name:"Sidebar",props:{mobile:{type:Boolean,default:!1}},emits:["close"],setup(s,{emit:t}){const n=s,r=t,a=ft(),o=we();bt(),Ye();const d={HomeIcon:Sr,UsersIcon:ze,BuildingOfficeIcon:Oe,UserGroupIcon:Ur,KeyIcon:ye,ShieldCheckIcon:mt,ClockIcon:he,CogIcon:tt},u=[{title:"Dashboard",icon:"HomeIcon",href:"/dashboard",exact:!0},{title:"Benutzer",icon:"UsersIcon",href:"/users"},{title:"Organisationen",icon:"BuildingOfficeIcon",href:"/organizations"},{title:"OAuth2 Clients",icon:"KeyIcon",href:"/clients"},{title:"Claims",icon:"ShieldCheckIcon",href:"/claims"},{title:"Audit-Log",icon:"ClockIcon",href:"/audit"},{title:"Sessions",icon:"UserGroupIcon",href:"/sessions"},{title:"Analytics",icon:"ClockIcon",href:"/analytics"},{title:"System",icon:"CogIcon",href:"/system/status"}],v=b=>d[b],c=(b,_=!1)=>_?a.path===b:a.path.startsWith(b),y=b=>b.some(_=>c(_.href)),h=b=>[c(b.href,b.exact)?"bg-blue-50 text-blue-600 dark:bg-blue-900/50 dark:text-blue-400":"text-gray-700 hover:text-blue-600 hover:bg-gray-50 dark:text-gray-300 dark:hover:bg-gray-700","group flex gap-x-3 rounded-md p-2 text-sm leading-6 font-semibold transition-colors"],x=b=>[y(b.children)?"bg-blue-50 text-blue-600 dark:bg-blue-900/50 dark:text-blue-400":"text-gray-700 hover:text-blue-600 hover:bg-gray-50 dark:text-gray-300 dark:hover:bg-gray-700","flex items-center w-full text-left rounded-md p-2 gap-x-3 text-sm leading-6 font-semibold transition-colors"],p=b=>[c(b.href)?"bg-blue-50 text-blue-600 dark:bg-blue-900/50 dark:text-blue-400":"text-gray-600 hover:text-blue-600 hover:bg-gray-50 dark:text-gray-400 dark:hover:bg-gray-700","block rounded-md py-2 pr-2 pl-9 text-sm leading-6 transition-colors"],l=b=>{switch(b.count){default:return 0}},g=()=>{n.mobile&&r("close")},i=async()=>{await o.logout(),n.mobile&&r("close")};return(b,_)=>{var V,I;const A=Z("router-link");return m(),f("div",{class:j(["flex grow flex-col gap-y-5 overflow-y-auto bg-white dark:bg-gray-800 px-6 shadow-lg",s.mobile?"":"pb-4"])},[_[2]||(_[2]=e("div",{class:"flex h-16 shrink-0 items-center border-b border-gray-200 dark:border-gray-700"},[e("img",{class:"h-8 w-auto",src:Tr,alt:"UM-OIC"}),e("span",{class:"ml-3 text-lg font-semibold text-gray-900 dark:text-white"}," UM-OIC Admin ")],-1)),e("nav",Lr,[e("ul",Dr,[e("li",null,[e("ul",Fr,[(m(),f(D,null,F(u,E=>e("li",{key:E.title},[E.children?(m(),P(S(Fs),{key:1,as:"div"},{default:U(({open:q})=>[w(S(Ls),{class:j(x(E))},{default:U(()=>[(m(),P(ue(v(E.icon)),{class:"h-6 w-6 shrink-0","aria-hidden":"true"})),z(" "+$(E.title)+" ",1),w(S(wr),{class:j([q?"rotate-90 text-gray-500":"text-gray-400","ml-auto h-5 w-5 shrink-0 transition-transform"]),"aria-hidden":"true"},null,8,["class"])]),_:2},1032,["class"]),w(S(Ds),{as:"ul",class:"mt-1 px-2"},{default:U(()=>[(m(!0),f(D,null,F(E.children,G=>(m(),f("li",{key:G.title},[w(A,{to:G.href,class:j(p(G)),onClick:g},{default:U(()=>[z($(G.title),1)]),_:2},1032,["to","class"])]))),128))]),_:2},1024)]),_:2},1024)):(m(),P(A,{key:0,to:E.href,class:j(h(E)),onClick:g},{default:U(()=>[(m(),P(ue(v(E.icon)),{class:"h-6 w-6 shrink-0","aria-hidden":"true"})),z(" "+$(E.title)+" ",1),E.badge?(m(),P(W,{key:0,count:l(E.badge),color:E.badge.color,class:"ml-auto"},null,8,["count","color"])):B("",!0)]),_:2},1032,["to","class"]))])),64))])]),e("li",Mr,[e("div",jr,[e("div",Pr,[w(st,{user:S(o).user,size:"sm",class:"h-8 w-8"},null,8,["user"]),e("div",Ir,[e("p",Nr,$((V=S(o).user)==null?void 0:V.full_name),1),e("p",Vr,$((I=S(o).user)==null?void 0:I.email),1)])]),e("div",qr,[w(A,{to:"/profile",class:"group flex gap-x-3 rounded-md p-2 text-sm leading-6 font-semibold text-gray-700 hover:bg-gray-50 dark:text-gray-300 dark:hover:bg-gray-700 transition-colors",onClick:g},{default:U(()=>[w(S(Ss),{class:"h-5 w-5 shrink-0","aria-hidden":"true"}),_[0]||(_[0]=z(" Profil ",-1))]),_:1}),e("button",{onClick:i,class:"group flex w-full gap-x-3 rounded-md p-2 text-sm leading-6 font-semibold text-gray-700 hover:bg-gray-50 dark:text-gray-300 dark:hover:bg-gray-700 transition-colors"},[w(S(xr),{class:"h-5 w-5 shrink-0","aria-hidden":"true"}),_[1]||(_[1]=z(" Abmelden ",-1))])])])])])])],2)}}}),Hr=oe("theme",()=>{const s=C(!1),t=()=>{const o=localStorage.getItem("theme");o?s.value=o==="dark":s.value=window.matchMedia("(prefers-color-scheme: dark)").matches,n()},n=()=>{s.value?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},r=()=>{s.value=!s.value},a=o=>{s.value=o};return Ue(s,o=>{localStorage.setItem("theme",o?"dark":"light"),n()}),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",o=>{localStorage.getItem("theme")||(s.value=o.matches)}),t(),{isDark:s,toggleDarkMode:r,setTheme:a}}),Zr={class:"sticky top-0 z-40 flex h-16 shrink-0 items-center gap-x-4 border-b border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 px-4 shadow-sm sm:gap-x-6 sm:px-6 lg:px-8"},Kr={class:"flex flex-1 gap-x-4 self-stretch lg:gap-x-6"},Wr={class:"relative flex flex-1",action:"#",method:"GET"},Gr={class:"flex items-center gap-x-4 lg:gap-x-6"},Jr={type:"button",class:"-m-2.5 p-2.5 text-gray-400 hover:text-gray-500 dark:hover:text-gray-300 relative"},Qr={key:0,class:"absolute -top-0.5 -right-0.5 h-4 w-4 rounded-full bg-red-500 text-xs text-white flex items-center justify-center"},Xr={class:"sr-only"},Yr={class:"hidden lg:flex lg:items-center"},ea={class:"ml-4 text-sm font-semibold leading-6 text-gray-900 dark:text-white","aria-hidden":"true"},ta=M({__name:"Header",emits:["toggleMobileMenu"],setup(s){const t=Te(),n=we(),r=Hr(),a=C(""),o=C(0),d=O(()=>r.isDark),u=()=>{r.toggleDarkMode()},v=()=>{a.value.length>2&&t.push({name:"Search",query:{q:a.value}})},c=async()=>{await n.logout()};return Y(()=>{}),(y,h)=>{const x=Z("router-link");return m(),f("div",Zr,[e("button",{type:"button",class:"-m-2.5 p-2.5 text-gray-700 dark:text-gray-300 lg:hidden",onClick:h[0]||(h[0]=p=>y.$emit("toggleMobileMenu"))},[h[2]||(h[2]=e("span",{class:"sr-only"},"Seitenleiste ffnen",-1)),w(S(br),{class:"h-6 w-6","aria-hidden":"true"})]),h[8]||(h[8]=e("div",{class:"h-6 w-px bg-gray-200 dark:bg-gray-700 lg:hidden","aria-hidden":"true"},null,-1)),e("div",Kr,[e("form",Wr,[h[3]||(h[3]=e("label",{for:"search-field",class:"sr-only"},"Suchen",-1)),w(S(Cr),{class:"pointer-events-none absolute inset-y-0 left-0 h-full w-5 text-gray-400","aria-hidden":"true"}),R(e("input",{id:"search-field",class:"block h-full w-full border-0 py-0 pl-8 pr-0 text-gray-900 dark:text-white placeholder:text-gray-400 focus:ring-0 sm:text-sm bg-transparent",placeholder:"Benutzer, Organisationen, Clients suchen...",type:"search",name:"search","onUpdate:modelValue":h[1]||(h[1]=p=>a.value=p),onInput:v},null,544),[[N,a.value]])]),e("div",Gr,[e("button",Jr,[h[4]||(h[4]=e("span",{class:"sr-only"},"Benachrichtigungen anzeigen",-1)),w(S(kr),{class:"h-6 w-6","aria-hidden":"true"}),o.value>0?(m(),f("span",Qr,$(o.value>9?"9+":o.value),1)):B("",!0)]),e("button",{onClick:u,class:"-m-2.5 p-2.5 text-gray-400 hover:text-gray-500 dark:hover:text-gray-300"},[e("span",Xr,$(d.value?"Light mode":"Dark mode"),1),d.value?(m(),P(S(Rr),{key:0,class:"h-6 w-6","aria-hidden":"true"})):(m(),P(S(Ar),{key:1,class:"h-6 w-6","aria-hidden":"true"}))]),h[7]||(h[7]=e("div",{class:"hidden lg:block lg:h-6 lg:w-px lg:bg-gray-200 dark:lg:bg-gray-700","aria-hidden":"true"},null,-1)),w(S(Ms),{as:"div",class:"relative"},{default:U(()=>[w(S(js),{class:"-m-1.5 flex items-center p-1.5"},{default:U(()=>{var p;return[h[5]||(h[5]=e("span",{class:"sr-only"},"Benutzermen ffnen",-1)),w(st,{user:S(n).user,size:"sm",class:"h-8 w-8"},null,8,["user"]),e("span",Yr,[e("span",ea,$((p=S(n).user)==null?void 0:p.full_name),1),w(S(_r),{class:"ml-2 h-5 w-5 text-gray-400","aria-hidden":"true"})])]}),_:1}),w(Rs,{"enter-active-class":"transition ease-out duration-100","enter-from-class":"transform opacity-0 scale-95","enter-to-class":"transform opacity-100 scale-100","leave-active-class":"transition ease-in duration-75","leave-from-class":"transform opacity-100 scale-100","leave-to-class":"transform opacity-0 scale-95"},{default:U(()=>[w(S(Ps),{class:"absolute right-0 z-10 mt-2.5 w-32 origin-top-right rounded-md bg-white dark:bg-gray-800 py-2 shadow-lg ring-1 ring-gray-900/5 dark:ring-gray-700 focus:outline-none"},{default:U(()=>[w(S(zt),null,{default:U(({active:p})=>[w(x,{to:"/profile",class:j([p?"bg-gray-50 dark:bg-gray-700":"","block px-3 py-1 text-sm leading-6 text-gray-900 dark:text-white"])},{default:U(()=>[...h[6]||(h[6]=[z(" Profil ",-1)])]),_:1},8,["class"])]),_:1}),w(S(zt),null,{default:U(({active:p})=>[e("button",{onClick:c,class:j([p?"bg-gray-50 dark:bg-gray-700":"","block w-full text-left px-3 py-1 text-sm leading-6 text-gray-900 dark:text-white"])}," Abmelden ",2)]),_:1})]),_:1})]),_:1})]),_:1})])])])}}});function sa(s,t){return m(),f("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"fill-rule":"evenodd",d:"M12 2.25a.75.75 0 0 1 .75.75v16.19l6.22-6.22a.75.75 0 1 1 1.06 1.06l-7.5 7.5a.75.75 0 0 1-1.06 0l-7.5-7.5a.75.75 0 1 1 1.06-1.06l6.22 6.22V3a.75.75 0 0 1 .75-.75Z","clip-rule":"evenodd"})])}function na(s,t){return m(),f("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"fill-rule":"evenodd",d:"M11.47 2.47a.75.75 0 0 1 1.06 0l7.5 7.5a.75.75 0 1 1-1.06 1.06l-6.22-6.22V21a.75.75 0 0 1-1.5 0V4.81l-6.22 6.22a.75.75 0 1 1-1.06-1.06l7.5-7.5Z","clip-rule":"evenodd"})])}function ra(s,t){return m(),f("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"fill-rule":"evenodd",d:"M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z","clip-rule":"evenodd"})])}function aa(s,t){return m(),f("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{d:"M11.47 3.841a.75.75 0 0 1 1.06 0l8.69 8.69a.75.75 0 1 0 1.06-1.061l-8.689-8.69a2.25 2.25 0 0 0-3.182 0l-8.69 8.69a.75.75 0 1 0 1.061 1.06l8.69-8.689Z"}),e("path",{d:"m12 5.432 8.159 8.159c.03.03.06.058.091.086v6.198c0 1.035-.84 1.875-1.875 1.875H15a.75.75 0 0 1-.75-.75v-4.5a.75.75 0 0 0-.75-.75h-3a.75.75 0 0 0-.75.75V21a.75.75 0 0 1-.75.75H5.625a1.875 1.875 0 0 1-1.875-1.875v-6.198a2.29 2.29 0 0 0 .091-.086L12 5.432Z"})])}const oa={class:"flex border-b border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 py-3","aria-label":"Breadcrumb"},ia={role:"list",class:"mx-auto flex w-full max-w-screen-xl space-x-4 px-4 sm:px-6 lg:px-8"},la={class:"flex"},da={class:"flex items-center"},ua={class:"flex items-center"},ca=["aria-current"],ma=M({__name:"Breadcrumb",setup(s){const t=ft(),n=O(()=>{var u;const a=t.path.split("/").filter(v=>v!==""),o=[];if((u=t.meta)!=null&&u.breadcrumb)return t.meta.breadcrumb;let d="";for(let v=0;v<a.length;v++){const c=a[v];if(d+=`/${c}`,c==="dashboard")continue;const y=v===a.length-1;o.push({name:r(c,t.params),href:y?void 0:d})}return o}),r=(a,o)=>{const d={users:"Benutzer",create:"Erstellen",edit:"Bearbeiten",import:"Import",organizations:"Organisationen",clients:"OAuth2 Clients",claims:"Claims Registry",audit:"Audit-Log",sessions:"Aktive Sessions",analytics:"Login-Statistiken",system:"System",status:"Status",config:"Konfiguration",profile:"Profil"};return o&&Object.values(o).includes(a)?a:d[a]||a.charAt(0).toUpperCase()+a.slice(1)};return(a,o)=>{const d=Z("router-link");return m(),f("nav",oa,[e("ol",ia,[e("li",la,[e("div",da,[w(d,{to:"/dashboard",class:"text-gray-400 hover:text-gray-500 dark:hover:text-gray-300"},{default:U(()=>[w(S(aa),{class:"h-5 w-5 flex-shrink-0","aria-hidden":"true"}),o[0]||(o[0]=e("span",{class:"sr-only"},"Dashboard",-1))]),_:1})])]),(m(!0),f(D,null,F(n.value,(u,v)=>(m(),f("li",{key:u.name,class:"flex"},[e("div",ua,[w(S(ra),{class:"h-5 w-5 flex-shrink-0 text-gray-300 dark:text-gray-600","aria-hidden":"true"}),u.href&&v!==n.value.length-1?(m(),P(d,{key:0,to:u.href,class:"ml-4 text-sm font-medium text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200","aria-current":v===n.value.length-1?"page":void 0},{default:U(()=>[z($(u.name),1)]),_:2},1032,["to","aria-current"])):(m(),f("span",{key:1,class:"ml-4 text-sm font-medium text-gray-900 dark:text-white","aria-current":v===n.value.length-1?"page":void 0},$(u.name),9,ca))])]))),128))])])}}}),fa={class:"fixed bottom-0 left-0 right-0 bg-white dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700 z-10"},ga={class:"mx-auto max-w-7xl px-4 py-6 sm:px-6 lg:px-8"},pa={class:"md:flex md:items-center md:justify-between"},ha={class:"flex justify-center md:order-2"},ya={class:"text-center text-sm text-gray-500 dark:text-gray-400"},xa={class:"mt-4 flex justify-center space-x-6 md:order-3 md:mt-0"},va={href:"#",class:"text-gray-400 hover:text-gray-500 dark:hover:text-gray-300"},ba={class:"flex items-center space-x-2"},ka={class:"text-sm font-mono text-gray-600 dark:text-gray-300"},_a={class:"mt-4 flex justify-center md:order-1 md:mt-0"},wa={class:"flex items-center space-x-2"},$a={class:"text-sm text-gray-500 dark:text-gray-400"},Sa=M({__name:"Footer",setup(s){const t=Ye(),n=C("1.0.0"),r=new Date().getFullYear(),a=O(()=>{var d;return((d=t.systemStatus)==null?void 0:d.status)||"unknown"}),o=O(()=>{switch(a.value){case"healthy":return"Alle Systeme funktionsfhig";case"degraded":return"Eingeschrnkte Funktionalitt";case"unhealthy":return"Systemfehler";default:return"Status unbekannt"}});return Y(async()=>{await t.loadSystemStatus(),setInterval(()=>{t.loadSystemStatus()},3e4)}),(d,u)=>{const v=Z("router-link");return m(),f("footer",fa,[e("div",ga,[e("div",pa,[e("div",ha,[e("p",ya,"  "+$(S(r))+" UM-OIC Admin. Alle Rechte vorbehalten. ",1)]),e("div",xa,[e("a",va,[u[1]||(u[1]=e("span",{class:"sr-only"},"System Status",-1)),w(v,{to:"/system/status",class:"text-sm"},{default:U(()=>[...u[0]||(u[0]=[z(" System Status ",-1)])]),_:1})]),u[3]||(u[3]=e("a",{href:"#",class:"text-gray-400 hover:text-gray-500 dark:hover:text-gray-300"},[e("span",{class:"sr-only"},"Dokumentation"),e("span",{class:"text-sm"},"Hilfe")],-1)),e("div",ba,[u[2]||(u[2]=e("span",{class:"text-sm text-gray-400"},"Version:",-1)),e("span",ka,$(n.value),1)])]),e("div",_a,[e("div",wa,[e("div",{class:j(["h-2 w-2 rounded-full",{"bg-green-500":a.value==="healthy","bg-yellow-500":a.value==="degraded","bg-red-500":a.value==="unhealthy","bg-gray-400":a.value==="unknown"}])},null,2),e("span",$a,$(o.value),1)])])])])])}}}),Ca={class:"min-h-screen bg-gray-50 dark:bg-gray-900"},Aa={key:0,class:"relative z-50 lg:hidden",role:"dialog","aria-modal":"true"},Ea={class:"fixed inset-0 flex"},Oa={class:"relative mr-16 flex w-full max-w-xs flex-1"},Ra={class:"absolute left-full top-0 flex w-16 justify-center pt-5"},za={class:"lg:pl-64"},Ua={class:"py-6 pb-24"},Ta={class:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8"},Ba={key:0,class:"mb-6"},La=M({__name:"AppLayout",setup(s){const t=C(!1);return(n,r)=>(m(),f("div",Ca,[t.value?(m(),f("div",Aa,[e("div",{class:"fixed inset-0 bg-gray-900/80",onClick:r[0]||(r[0]=a=>t.value=!1)}),e("div",Ea,[e("div",Oa,[e("div",Ra,[e("button",{type:"button",class:"-m-2.5 p-2.5",onClick:r[1]||(r[1]=a=>t.value=!1)},[r[4]||(r[4]=e("span",{class:"sr-only"},"Seitenleiste schlieen",-1)),w(S(Cs),{class:"h-6 w-6 text-white","aria-hidden":"true"})])]),w(Wt,{mobile:!0,onClose:r[2]||(r[2]=a=>t.value=!1)})])])])):B("",!0),w(Wt,{class:"hidden lg:fixed lg:inset-y-0 lg:z-50 lg:flex lg:w-64 lg:flex-col"}),e("div",za,[w(ta,{onToggleMobileMenu:r[3]||(r[3]=a=>t.value=!0)}),w(ma),e("main",Ua,[e("div",Ta,[n.$slots.header?(m(),f("div",Ba,[At(n.$slots,"header")])):B("",!0),At(n.$slots,"default")])]),w(Sa)])]))}}),kt=(s,t)=>{const n=s.__vccOpts||s;for(const[r,a]of t)n[r]=a;return n},Da={},Fa={class:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center"};function Ma(s,t){return m(),f("div",Fa,[...t[0]||(t[0]=[e("div",{class:"text-center"},[e("div",{class:"spinner mx-auto mb-4 h-8 w-8"}),e("h2",{class:"text-lg font-medium text-gray-900 dark:text-white"}," UM-OIC wird geladen... "),e("p",{class:"mt-1 text-sm text-gray-600 dark:text-gray-400"}," Bitte warten Sie einen Moment ")],-1)])])}const ja=kt(Da,[["render",Ma]]),Pa={class:"fixed top-4 right-4 z-50 space-y-2"},Ia={class:"flex"},Na={class:"flex-shrink-0"},Va={class:"ml-3 flex-1"},qa={class:"ml-4 flex-shrink-0"},Ha=["onClick"],Za=M({__name:"NotificationContainer",setup(s,{expose:t}){const n=C([]),r=c=>{switch(c){case"success":return Ke;case"warning":return je;case"error":return vt;default:return xt}},a=c=>{switch(c){case"success":return"bg-green-50 border-green-400 dark:bg-green-900/20";case"warning":return"bg-yellow-50 border-yellow-400 dark:bg-yellow-900/20";case"error":return"bg-red-50 border-red-400 dark:bg-red-900/20";default:return"bg-blue-50 border-blue-400 dark:bg-blue-900/20"}},o=c=>{switch(c){case"success":return"text-green-800 dark:text-green-200";case"warning":return"text-yellow-800 dark:text-yellow-200";case"error":return"text-red-800 dark:text-red-200";default:return"text-blue-800 dark:text-blue-200"}},d=c=>{switch(c){case"success":return"text-green-400 hover:text-green-600 focus:ring-green-600";case"warning":return"text-yellow-400 hover:text-yellow-600 focus:ring-yellow-600";case"error":return"text-red-400 hover:text-red-600 focus:ring-red-600";default:return"text-blue-400 hover:text-blue-600 focus:ring-blue-600"}},u=c=>{const y=n.value.findIndex(h=>h.id===c);y>-1&&n.value.splice(y,1)};return t({addNotification:c=>{n.value.push(c),c.timeout!==0&&setTimeout(()=>{u(c.id)},c.timeout||5e3)},removeNotification:u}),(c,y)=>(m(),f("div",Pa,[(m(!0),f(D,null,F(n.value,h=>(m(),f("div",{key:h.id,class:"notification"},[e("div",{class:j(["rounded-md p-4 shadow-lg border-l-4 max-w-sm",a(h.type)])},[e("div",Ia,[e("div",Na,[(m(),P(ue(r(h.type)),{class:"h-5 w-5","aria-hidden":"true"}))]),e("div",Va,[e("p",{class:j(["text-sm font-medium",o(h.type)])},$(h.title),3),h.message?(m(),f("p",{key:0,class:j(["mt-1 text-sm",o(h.type)])},$(h.message),3)):B("",!0)]),e("div",qa,[e("button",{onClick:x=>u(h.id),class:j(["rounded-md inline-flex focus:outline-none focus:ring-2 focus:ring-offset-2",d(h.type)])},[w(S(Cs),{class:"h-5 w-5","aria-hidden":"true"})],10,Ha)])])],2)]))),128))]))}}),Ka=M({__name:"GlobalModals",setup(s){return(t,n)=>(m(),f("div"))}}),Wa={id:"app"},Ga={key:2,class:"flex items-center justify-center min-h-screen bg-gray-50 dark:bg-gray-900"},Ja=M({__name:"App",setup(s){const t=we(),n=Ye(),r=C(!0);Y(async()=>{try{const d=new URLSearchParams(window.location.search).get("token");if(d){t.setToken(d);const u=new URL(window.location.href);u.searchParams.delete("token"),window.history.replaceState({},document.title,u.pathname+u.hash)}await t.checkAuth(),t.isAuthenticated?await n.loadSystemStatus():a()}catch(o){console.error("Initialization error:",o),a()}finally{r.value=!1}});const a=()=>{const o=`${window.location.origin}${window.location.pathname}${window.location.search}${window.location.hash}`,d=`https://localhost:8443/?redirect=${encodeURIComponent(o)}`;setTimeout(()=>{window.location.href=d},1500)};return(o,d)=>{const u=Z("router-view");return m(),f("div",Wa,[r.value?(m(),P(ja,{key:0})):B("",!0),S(t).isAuthenticated?(m(),P(La,{key:1},{default:U(()=>[w(u)]),_:1})):r.value?B("",!0):(m(),f("div",Ga,[...d[0]||(d[0]=[e("div",{class:"text-center"},[e("h2",{class:"text-2xl font-semibold text-gray-900 dark:text-white mb-2"},"Weiterleitung zur Anmeldung..."),e("p",{class:"text-gray-600 dark:text-gray-400"},"Sie werden automatisch zum Login weitergeleitet.")],-1)])])),w(Za),w(Ka)])}}}),Qa=kt(Ja,[["__scopeId","data-v-0f35bcc7"]]),Xa="modulepreload",Ya=function(s){return"/"+s},Gt={},Jt=function(t,n,r){let a=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),u=(d==null?void 0:d.nonce)||(d==null?void 0:d.getAttribute("nonce"));a=Promise.allSettled(n.map(v=>{if(v=Ya(v),v in Gt)return;Gt[v]=!0;const c=v.endsWith(".css"),y=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${v}"]${y}`))return;const h=document.createElement("link");if(h.rel=c?"stylesheet":Xa,c||(h.as="script"),h.crossOrigin="",h.href=v,u&&h.setAttribute("nonce",u),document.head.appendChild(h),c)return new Promise((x,p)=>{h.addEventListener("load",x),h.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${v}`)))})}))}function o(d){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=d,window.dispatchEvent(u),!u.defaultPrevented)throw d}return a.then(d=>{for(const u of d||[])u.status==="rejected"&&o(u.reason);return t().catch(o)})},eo=oe("stats",()=>{const s=C(null),t=C(null),n=C(null),r=C(null),a=C([]),o=C([]),d=C([]),u=C(null),v=C(0),c=C(0);return{userStats:s,sessionStats:t,orgStats:n,clientStats:r,activityData:a,loginDistribution:o,recentActivities:d,lastLoginTime:u,failedLoginsToday:v,newUsersThisWeek:c,loadUserStats:async()=>{try{const _=await T.get("/stats/users");s.value=_.data}catch(_){console.error("Failed to load user stats:",_)}},loadSessionStats:async()=>{try{const _=await T.get("/stats/sessions");t.value=_.data}catch(_){console.error("Failed to load session stats:",_)}},loadOrgStats:async()=>{try{const _=await T.get("/stats/organizations");n.value=_.data}catch(_){console.error("Failed to load organization stats:",_)}},loadClientStats:async()=>{try{const _=await T.get("/stats/clients");r.value=_.data}catch(_){console.error("Failed to load client stats:",_)}},loadActivityData:async _=>{try{const A=await T.get("/stats/activity",{params:{range:_}});a.value=A.data}catch(A){console.error("Failed to load activity data:",A)}},loadLoginDistribution:async _=>{try{const A=await T.get("/stats/login-distribution",{params:{range:_}});o.value=A.data}catch(A){console.error("Failed to load login distribution:",A)}},loadRecentActivities:async(_=10)=>{try{const A=await T.get("/stats/recent-activities",{params:{limit:_}});d.value=A.data}catch(A){console.error("Failed to load recent activities:",A)}},loadQuickStats:async()=>{try{const A=(await T.get("/stats/quick")).data;u.value=A.last_login_time,v.value=A.failed_logins_today,c.value=A.new_users_week}catch(_){console.error("Failed to load quick stats:",_)}}}}),to={class:"card"},so={class:"card-body"},no={class:"flex items-center"},ro={class:"flex-shrink-0"},ao={class:"ml-5 w-0 flex-1"},oo={class:"text-sm font-medium text-gray-500 dark:text-gray-400 truncate"},io={class:"flex items-baseline"},lo={class:"text-2xl font-semibold text-gray-900 dark:text-white"},uo={key:0,class:"skeleton w-16 h-8"},co={key:1},mo={class:"sr-only"},Ne=M({__name:"StatCard",props:{title:{},value:{},change:{},changeType:{},icon:{},color:{default:"blue"},loading:{type:Boolean,default:!1}},setup(s){const t=s,n={UsersIcon:ze,ComputerDesktopIcon:ct,BuildingOfficeIcon:Oe,KeyIcon:ye},r=O(()=>n[t.icon]||ze),a=O(()=>({blue:"bg-blue-500",green:"bg-green-500",yellow:"bg-yellow-500",red:"bg-red-500",purple:"bg-purple-500",orange:"bg-orange-500"})[t.color]),o=O(()=>t.change===void 0?"":t.changeType==="increase"?t.change>0?"text-green-600":"text-red-600":t.change>0?"text-red-600":"text-green-600"),d=O(()=>typeof t.value=="number"?t.value.toLocaleString():t.value);return(u,v)=>(m(),f("div",to,[e("div",so,[e("div",no,[e("div",ro,[e("div",{class:j(["inline-flex items-center justify-center p-3 rounded-md shadow-lg",a.value])},[(m(),P(ue(r.value),{class:"h-6 w-6 text-white","aria-hidden":"true"}))],2)]),e("div",ao,[e("dl",null,[e("dt",oo,$(s.title),1),e("dd",null,[e("div",io,[e("div",lo,[s.loading?(m(),f("span",uo)):(m(),f("span",co,$(d.value),1))]),s.change!==void 0&&!s.loading?(m(),f("div",{key:0,class:j(["ml-2 flex items-baseline text-sm font-semibold",o.value])},[s.changeType==="increase"&&s.change>0?(m(),P(S(na),{key:0,class:"self-center flex-shrink-0 h-4 w-4","aria-hidden":"true"})):s.changeType==="decrease"&&s.change>0?(m(),P(S(sa),{key:1,class:"self-center flex-shrink-0 h-4 w-4","aria-hidden":"true"})):B("",!0),e("span",mo,$(s.changeType==="increase"?"Increased":"Decreased")+" by ",1),z(" "+$(Math.abs(s.change))+"% ",1)],2)):B("",!0)])])])])])])]))}}),fo={class:"flex"},go={class:"flex-shrink-0"},po={class:"ml-3"},ho={key:0,class:"mt-4"},yo={class:"-mx-2 -my-1.5 flex"},xo=M({__name:"SystemHealthBanner",props:{status:{}},emits:["reload"],setup(s){const t=s,n=O(()=>t.status?t.status.status!=="healthy"||t.status.auth_data_stale:!1),r=O(()=>t.status?t.status.status==="unhealthy"?"error":t.status.status==="degraded"||t.status.auth_data_stale?"warning":t.status.status==="healthy"&&!t.status.auth_data_stale?"success":"info":"unknown"),a=O(()=>{switch(r.value){case"success":return Ke;case"warning":return je;case"error":return vt;default:return xt}}),o=O(()=>{switch(r.value){case"success":return"bg-green-50 dark:bg-green-900/50";case"warning":return"bg-yellow-50 dark:bg-yellow-900/50";case"error":return"bg-red-50 dark:bg-red-900/50";default:return"bg-blue-50 dark:bg-blue-900/50"}}),d=O(()=>{switch(r.value){case"success":return"text-green-800 dark:text-green-200";case"warning":return"text-yellow-800 dark:text-yellow-200";case"error":return"text-red-800 dark:text-red-200";default:return"text-blue-800 dark:text-blue-200"}}),u=O(()=>{switch(r.value){case"warning":return"bg-yellow-100 text-yellow-800 hover:bg-yellow-200 focus:ring-yellow-600 dark:bg-yellow-800 dark:text-yellow-100 dark:hover:bg-yellow-700";case"error":return"bg-red-100 text-red-800 hover:bg-red-200 focus:ring-red-600 dark:bg-red-800 dark:text-red-100 dark:hover:bg-red-700";default:return"bg-blue-100 text-blue-800 hover:bg-blue-200 focus:ring-blue-600 dark:bg-blue-800 dark:text-blue-100 dark:hover:bg-blue-700"}}),v=O(()=>{switch(r.value){case"warning":return"bg-transparent text-yellow-800 hover:bg-yellow-100 focus:ring-yellow-600 dark:text-yellow-200 dark:hover:bg-yellow-800";case"error":return"bg-transparent text-red-800 hover:bg-red-100 focus:ring-red-600 dark:text-red-200 dark:hover:bg-red-800";default:return"bg-transparent text-blue-800 hover:bg-blue-100 focus:ring-blue-600 dark:text-blue-200 dark:hover:bg-blue-800"}}),c=O(()=>t.status?t.status.status==="unhealthy"?"System-Fehler erkannt":t.status.auth_data_stale?"Auth-Service Daten veraltet":t.status.status==="degraded"?"Eingeschrnkte Funktionalitt":"System funktionsfhig":"System Status unbekannt"),y=O(()=>t.status?t.status.status==="unhealthy"?"Ein oder mehrere kritische Services sind nicht verfgbar. Bitte prfen Sie den System-Status.":t.status.auth_data_stale?"Die Authentifizierungsdaten sind nicht aktuell. Ein Neustart des Auth-Service wird empfohlen.":t.status.status==="degraded"?"Einige Services laufen mit eingeschrnkter Funktionalitt.":"Alle Services funktionieren normal.":"Der System-Status konnte nicht abgerufen werden."),h=O(()=>t.status&&(t.status.status!=="healthy"||t.status.auth_data_stale));return(x,p)=>{var g;const l=Z("router-link");return n.value?(m(),f("div",{key:0,class:j(["rounded-md p-4",o.value])},[e("div",fo,[e("div",go,[(m(),P(ue(a.value),{class:"h-5 w-5","aria-hidden":"true"}))]),e("div",po,[e("h3",{class:j(["text-sm font-medium",d.value])},$(c.value),3),e("div",{class:j(["mt-2 text-sm",d.value])},[e("p",null,$(y.value),1)],2),h.value?(m(),f("div",ho,[e("div",yo,[(g=s.status)!=null&&g.auth_data_stale?(m(),f("button",{key:0,onClick:p[0]||(p[0]=i=>x.$emit("reload")),type:"button",class:j(["px-2 py-1.5 rounded-md text-sm font-medium focus:outline-none focus:ring-2 focus:ring-offset-2",u.value])}," Auth-Service neu laden ",2)):B("",!0),w(l,{to:"/system/status",class:j(["ml-3 px-2 py-1.5 rounded-md text-sm font-medium focus:outline-none focus:ring-2 focus:ring-offset-2",v.value])},{default:U(()=>[...p[1]||(p[1]=[z(" Details anzeigen ",-1)])]),_:1},8,["class"])])])):B("",!0)])])],2)):B("",!0)}}}),vo={class:"flow-root"},bo={key:0,class:"space-y-3 p-6"},ko={key:1,role:"list",class:"-mb-8"},_o={class:"relative pb-8"},wo={key:0,class:"absolute left-5 top-5 -ml-px h-full w-0.5 bg-gray-200 dark:bg-gray-700","aria-hidden":"true"},$o={class:"relative flex items-start space-x-3"},So={class:"relative"},Co={class:"min-w-0 flex-1"},Ao={class:"text-sm"},Eo={class:"font-medium text-gray-900 dark:text-white"},Oo={class:"mt-0.5 text-sm text-gray-500 dark:text-gray-400"},Ro={class:"mt-2 text-sm text-gray-700 dark:text-gray-300"},zo={key:2,class:"p-6 text-center"},Uo=M({__name:"RecentActivityList",props:{activities:{},loading:{type:Boolean,default:!1},maxItems:{default:10}},setup(s){const t=s,n=O(()=>t.activities.slice(0,t.maxItems)),r=u=>{switch(u){case"login":return vr;case"registration":return $s;case"user_update":return Er;case"client_create":return ye;default:return he}},a=u=>{switch(u){case"login":return"bg-green-500";case"registration":return"bg-blue-500";case"user_update":return"bg-yellow-500";case"client_create":return"bg-purple-500";default:return"bg-gray-500"}},o=u=>{switch(u.type){case"login":return`hat sich angemeldet (${u.org})`;case"registration":return`wurde registriert in ${u.org}`;case"user_update":return`wurde aktualisiert ${u.details?`- ${u.details}`:""}`;case"client_create":return`hat OAuth2-Client erstellt ${u.details?`- ${u.details}`:""}`;default:return u.details||"Unbekannte Aktivitt"}},d=u=>{const v=new Date(u),y=new Date().getTime()-v.getTime(),h=Math.floor(y/(1e3*60)),x=Math.floor(y/(1e3*60*60)),p=Math.floor(y/(1e3*60*60*24));return h<1?"Gerade eben":h<60?`vor ${h} Min.`:x<24?`vor ${x} Std.`:p===1?"Gestern":p<7?`vor ${p} Tagen`:v.toLocaleDateString("de-DE",{day:"2-digit",month:"2-digit",year:"numeric"})};return(u,v)=>(m(),f("div",vo,[s.loading?(m(),f("div",bo,[(m(),f(D,null,F(5,c=>e("div",{key:c,class:"flex items-center space-x-3"},[...v[0]||(v[0]=[e("div",{class:"skeleton w-8 h-8 rounded-full"},null,-1),e("div",{class:"flex-1 space-y-2"},[e("div",{class:"skeleton w-3/4 h-4"}),e("div",{class:"skeleton w-1/2 h-3"})],-1)])])),64))])):s.activities.length>0?(m(),f("ul",ko,[(m(!0),f(D,null,F(n.value,(c,y)=>(m(),f("li",{key:c.id},[e("div",_o,[y!==n.value.length-1?(m(),f("span",wo)):B("",!0),e("div",$o,[e("div",So,[e("div",{class:j(["flex h-10 w-10 items-center justify-center rounded-full ring-8 ring-white dark:ring-gray-800",a(c.type)])},[(m(),P(ue(r(c.type)),{class:"h-5 w-5 text-white","aria-hidden":"true"}))],2)]),e("div",Co,[e("div",null,[e("div",Ao,[e("span",Eo,$(c.user_email),1)]),e("p",Oo,$(o(c)),1)]),e("div",Ro,[e("p",null,$(d(c.timestamp)),1)])])])])]))),128))])):(m(),f("div",zo,[w(S(he),{class:"mx-auto h-12 w-12 text-gray-400"}),v[1]||(v[1]=e("h3",{class:"mt-2 text-sm font-medium text-gray-900 dark:text-white"}," Keine Aktivitten ",-1)),v[2]||(v[2]=e("p",{class:"mt-1 text-sm text-gray-500 dark:text-gray-400"}," Es wurden noch keine Aktivitten aufgezeichnet. ",-1))]))]))}}),To={class:"space-y-3"},Bo={key:0,class:"text-center py-4"},Lo={class:"flex"},Do={class:"flex-shrink-0"},Fo={class:"ml-3 flex-1"},Mo={key:0,class:"mt-2"},jo=["onClick"],Po=M({__name:"SystemAlerts",props:{alerts:{}},setup(s){const t=a=>{switch(a){case"success":return Ke;case"warning":return je;case"error":return vt;default:return xt}},n=a=>{switch(a){case"success":return"bg-green-50 border-green-400 dark:bg-green-900/20 dark:border-green-500";case"warning":return"bg-yellow-50 border-yellow-400 dark:bg-yellow-900/20 dark:border-yellow-500";case"error":return"bg-red-50 border-red-400 dark:bg-red-900/20 dark:border-red-500";default:return"bg-blue-50 border-blue-400 dark:bg-blue-900/20 dark:border-blue-500"}},r=a=>{switch(a){case"success":return"text-green-800 dark:text-green-200";case"warning":return"text-yellow-800 dark:text-yellow-200";case"error":return"text-red-800 dark:text-red-200";default:return"text-blue-800 dark:text-blue-200"}};return(a,o)=>(m(),f("div",To,[s.alerts.length===0?(m(),f("div",Bo,[w(S(Ke),{class:"mx-auto h-8 w-8 text-green-500"}),o[0]||(o[0]=e("p",{class:"mt-2 text-sm text-gray-600 dark:text-gray-400"}," Keine aktiven Warnungen ",-1))])):B("",!0),(m(!0),f(D,null,F(s.alerts,d=>(m(),f("div",{key:d.title,class:j(["rounded-md p-3 border-l-4",n(d.type)])},[e("div",Lo,[e("div",Do,[(m(),P(ue(t(d.type)),{class:"h-5 w-5","aria-hidden":"true"}))]),e("div",Fo,[e("h3",{class:j(["text-sm font-medium",r(d.type)])},$(d.title),3),e("p",{class:j(["mt-1 text-sm",r(d.type)])},$(d.message),3),d.action?(m(),f("div",Mo,[e("button",{onClick:u=>{var v;return(v=d.actionFn)==null?void 0:v.call(d)},class:j(["text-sm font-medium underline focus:outline-none",r(d.type)])},$(d.action),11,jo)])):B("",!0)])])],2))),128))]))}}),Io={class:"space-y-3"},No={class:"flex items-center text-sm text-gray-600 dark:text-gray-400"},Vo=M({__name:"QuickStatsList",props:{stats:{}},setup(s){const t={ClockIcon:he,ExclamationTriangleIcon:je,UserPlusIcon:$s,ChartBarIcon:_s},n=o=>t[o]||he,r=o=>{switch(o){case"red":return"text-red-500";case"green":return"text-green-500";case"blue":return"text-blue-500";case"yellow":return"text-yellow-500";default:return"text-gray-400"}},a=o=>{switch(o){case"red":return"text-red-600 dark:text-red-400";case"green":return"text-green-600 dark:text-green-400";case"blue":return"text-blue-600 dark:text-blue-400";case"yellow":return"text-yellow-600 dark:text-yellow-400";default:return"text-gray-900 dark:text-white"}};return(o,d)=>(m(),f("dl",Io,[(m(!0),f(D,null,F(s.stats,u=>(m(),f("div",{key:u.label,class:"flex items-center justify-between"},[e("dt",No,[(m(),P(ue(n(u.icon)),{class:j(["mr-2 h-4 w-4 flex-shrink-0",r(u.color)]),"aria-hidden":"true"},null,8,["class"])),z(" "+$(u.label),1)]),e("dd",{class:j(["text-sm font-medium",a(u.color)])},$(u.value),3)]))),128))]))}}),qo=M({__name:"ChartRefreshButton",emits:["refresh"],setup(s){return(t,n)=>(m(),f("button",{onClick:n[0]||(n[0]=r=>t.$emit("refresh")),class:"inline-flex items-center px-2.5 py-1.5 border border-gray-300 dark:border-gray-600 shadow-sm text-xs font-medium rounded text-gray-700 dark:text-gray-200 bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500"},[w(S(Me),{class:"h-4 w-4","aria-hidden":"true"}),n[1]||(n[1]=e("span",{class:"sr-only"},"Aktualisieren",-1))]))}}),Ho=["value"],Zo=M({__name:"TimeRangeSelector",props:{modelValue:{}},emits:["update:modelValue","change"],setup(s){return(t,n)=>(m(),f("select",{value:s.modelValue,onChange:n[0]||(n[0]=r=>t.$emit("update:modelValue",r.target.value)),class:"form-select text-sm"},[...n[1]||(n[1]=[e("option",{value:"1d"},"Letzter Tag",-1),e("option",{value:"7d"},"Letzte Woche",-1),e("option",{value:"30d"},"Letzter Monat",-1),e("option",{value:"90d"},"Letzte 3 Monate",-1)])],40,Ho))}}),Ko={class:"animate-pulse"},Wo={class:"mt-2 flex justify-between"},Qt=M({__name:"ChartSkeleton",props:{height:{default:200},barCount:{default:7}},setup(s){const t=s,n=()=>Math.floor(t.height*(.4+Math.random()*.5));return(r,a)=>(m(),f("div",Ko,[e("div",{class:"flex items-end justify-between space-x-2",style:Et({height:s.height+"px"})},[(m(!0),f(D,null,F(s.barCount,o=>(m(),f("div",{key:o,class:"bg-gray-300 dark:bg-gray-600 rounded-sm flex-1",style:Et({height:n()+"px"})},null,4))),128))],4),e("div",Wo,[(m(!0),f(D,null,F(s.barCount,o=>(m(),f("div",{key:"label-"+o,class:"skeleton w-8 h-3"}))),128))])]))}}),Go={class:"mb-8"},Jo={class:"text-2xl font-bold text-gray-900 dark:text-white"},Qo={class:"mb-6 flex flex-wrap gap-3"},Xo=["disabled"],Yo={class:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-4 mb-8"},ei={class:"mb-8"},ti={class:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8"},si={class:"bg-white dark:bg-gray-800 shadow rounded-lg p-6"},ni={class:"flex items-center justify-between mb-4"},ri={class:"bg-white dark:bg-gray-800 shadow rounded-lg p-6"},ai={class:"flex items-center justify-between mb-4"},oi={class:"grid grid-cols-1 lg:grid-cols-3 gap-6"},ii={class:"lg:col-span-2 bg-white dark:bg-gray-800 shadow rounded-lg"},li={class:"px-6 py-4 border-b border-gray-200 dark:border-gray-700"},di={class:"flex items-center justify-between"},ui={class:"space-y-6"},ci={class:"bg-white dark:bg-gray-800 shadow rounded-lg p-6"},mi={class:"bg-white dark:bg-gray-800 shadow rounded-lg p-6"},fi=M({__name:"Dashboard",setup(s){const t=Rt(()=>Jt(()=>import("./UserActivityChart-bAgnbgjf.js"),__vite__mapDeps([0,1,2]))),n=Rt(()=>Jt(()=>import("./OrgLoginChart-WF47ZrbE.js"),__vite__mapDeps([3,1,2]))),r=we();bt();const a=Ye(),o=eo(),d=C(!0),u=C(!0),v=C(!0),c=C(!0),y=C("7d"),h=O(()=>{var I,E,q,G,te,$e,Se,ce;return{totalUsers:((I=o.userStats)==null?void 0:I.total_users)||0,userGrowth:((E=o.userStats)==null?void 0:E.growth_percentage)||0,activeSessions:((q=o.sessionStats)==null?void 0:q.active_sessions)||0,sessionChange:((G=o.sessionStats)==null?void 0:G.change_percentage)||0,organizations:((te=o.orgStats)==null?void 0:te.total_organizations)||0,orgGrowth:(($e=o.orgStats)==null?void 0:$e.growth_percentage)||0,oauthClients:((Se=o.clientStats)==null?void 0:Se.total_clients)||0,clientChange:((ce=o.clientStats)==null?void 0:ce.change_percentage)||0}}),x=O(()=>o.activityData),p=O(()=>o.loginDistribution),l=O(()=>o.recentActivities),g=O(()=>{var I,E;return[...(I=a.systemStatus)!=null&&I.auth_data_stale?[{type:"warning",title:"Auth-Service Daten veraltet",message:"Die Auth-Service Daten sind nicht mehr aktuell.",action:"Neu laden",actionFn:()=>a.reloadAuthService()}]:[],...((E=a.systemStatus)==null?void 0:E.status)==="unhealthy"?[{type:"error",title:"System-Fehler",message:"Ein oder mehrere Services sind nicht verfgbar.",action:"Status prfen",actionFn:()=>router.push("/system/status")}]:[]]}),i=O(()=>[{label:"Letzte Anmeldung",value:o.lastLoginTime||"Nie",icon:"ClockIcon"},{label:"Fehlgeschlagene Logins",value:o.failedLoginsToday||0,icon:"ExclamationTriangleIcon",color:o.failedLoginsToday>10?"red":"gray"},{label:"Neue Benutzer (Woche)",value:o.newUsersThisWeek||0,icon:"UserPlusIcon",color:"green"}]),b=async()=>{try{d.value=!0,u.value=!0,v.value=!0,c.value=!0,await Promise.all([o.loadUserStats(),o.loadSessionStats(),o.loadOrgStats(),o.loadClientStats(),_(),A(),V()])}catch(I){console.error("Error loading dashboard data:",I)}finally{d.value=!1}},_=async()=>{try{u.value=!0,await o.loadActivityData("7d")}finally{u.value=!1}},A=async()=>{try{v.value=!0,await o.loadLoginDistribution(y.value)}finally{v.value=!1}},V=async()=>{try{c.value=!0,await o.loadRecentActivities(10)}finally{c.value=!1}};return Y(()=>{b()}),(I,E)=>{var G;const q=Z("router-link");return m(),f("div",null,[e("div",Go,[e("h1",Jo," Willkommen zurck, "+$((G=S(r).user)==null?void 0:G.first_name),1),E[3]||(E[3]=e("p",{class:"mt-1 text-sm text-gray-600 dark:text-gray-400"}," Hier ist eine bersicht ber Ihr UM-OIC System ",-1))]),e("div",Qo,[w(q,{to:"/users/create",class:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors"},{default:U(()=>[w(S(Re),{class:"w-4 h-4 mr-2"}),E[4]||(E[4]=z(" Benutzer erstellen ",-1))]),_:1}),w(q,{to:"/clients/create",class:"inline-flex items-center px-4 py-2 border border-gray-300 dark:border-gray-600 text-sm font-medium rounded-md text-gray-700 dark:text-gray-200 bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors"},{default:U(()=>[w(S(ye),{class:"w-4 h-4 mr-2"}),E[5]||(E[5]=z(" OAuth2 Client ",-1))]),_:1}),e("button",{onClick:E[0]||(E[0]=te=>S(a).reloadAuthService()),disabled:S(a).isReloading,class:"inline-flex items-center px-4 py-2 border border-gray-300 dark:border-gray-600 text-sm font-medium rounded-md text-gray-700 dark:text-gray-200 bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors disabled:opacity-50"},[w(S(Me),{class:j(["w-4 h-4 mr-2",{"animate-spin":S(a).isReloading}])},null,8,["class"]),E[6]||(E[6]=z(" Auth neu laden ",-1))],8,Xo)]),e("div",Yo,[w(Ne,{title:"Gesamt Benutzer",value:h.value.totalUsers,change:h.value.userGrowth,"change-type":"increase",icon:"UsersIcon",color:"blue",loading:d.value},null,8,["value","change","loading"]),w(Ne,{title:"Aktive Sessions",value:h.value.activeSessions,change:h.value.sessionChange,"change-type":"increase",icon:"ComputerDesktopIcon",color:"green",loading:d.value},null,8,["value","change","loading"]),w(Ne,{title:"Organisationen",value:h.value.organizations,change:h.value.orgGrowth,"change-type":"increase",icon:"BuildingOfficeIcon",color:"purple",loading:d.value},null,8,["value","change","loading"]),w(Ne,{title:"OAuth2 Clients",value:h.value.oauthClients,change:h.value.clientChange,"change-type":"increase",icon:"KeyIcon",color:"orange",loading:d.value},null,8,["value","change","loading"])]),e("div",ei,[w(xo,{status:S(a).systemStatus,onReload:E[1]||(E[1]=te=>S(a).reloadAuthService())},null,8,["status"])]),e("div",ti,[e("div",si,[e("div",ni,[E[7]||(E[7]=e("h3",{class:"text-lg font-medium text-gray-900 dark:text-white"}," Benutzer-Aktivitt (7 Tage) ",-1)),w(qo,{onRefresh:_})]),(m(),P(Ot,null,{fallback:U(()=>[w(Qt,{height:"300"})]),default:U(()=>[w(S(t),{data:x.value,loading:u.value,height:"300"},null,8,["data","loading"])]),_:1}))]),e("div",ri,[e("div",ai,[E[8]||(E[8]=e("h3",{class:"text-lg font-medium text-gray-900 dark:text-white"}," Login-Verteilung nach Organisation ",-1)),w(Zo,{modelValue:y.value,"onUpdate:modelValue":E[2]||(E[2]=te=>y.value=te),onChange:A},null,8,["modelValue"])]),(m(),P(Ot,null,{fallback:U(()=>[w(Qt,{height:"300"})]),default:U(()=>[w(S(n),{data:p.value,loading:v.value,height:"300"},null,8,["data","loading"])]),_:1}))])]),e("div",oi,[e("div",ii,[e("div",li,[e("div",di,[E[10]||(E[10]=e("h3",{class:"text-lg font-medium text-gray-900 dark:text-white"}," Letzte Aktivitten ",-1)),w(q,{to:"/audit",class:"text-sm text-blue-600 hover:text-blue-500 dark:text-blue-400"},{default:U(()=>[...E[9]||(E[9]=[z(" Alle anzeigen  ",-1)])]),_:1})])]),w(Uo,{activities:l.value,loading:c.value,"max-items":10},null,8,["activities","loading"])]),e("div",ui,[e("div",ci,[E[11]||(E[11]=e("h3",{class:"text-lg font-medium text-gray-900 dark:text-white mb-4"}," System-Hinweise ",-1)),w(Po,{alerts:g.value},null,8,["alerts"])]),e("div",mi,[E[12]||(E[12]=e("h3",{class:"text-lg font-medium text-gray-900 dark:text-white mb-4"}," Schnellbersicht ",-1)),w(Vo,{stats:i.value},null,8,["stats"])])])])])}}}),gi={class:"page-header"},pi={class:"flex items-center justify-between"},hi={class:"flex space-x-3"},yi={class:"card mb-6"},xi={class:"card-body"},vi={class:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-4"},bi=["value"],ki={class:"card"},_i={class:"card-header"},wi={class:"text-lg font-medium text-gray-900 dark:text-white"},$i={class:"overflow-hidden"},Si={key:0,class:"px-6 py-8"},Ci={class:"space-y-4"},Ai={key:1,class:"px-6 py-8 text-center"},Ei={class:"mt-1 text-sm text-gray-500 dark:text-gray-400"},Oi={class:"mt-4"},Ri={key:2,class:"table"},zi={class:"flex items-center"},Ui={class:"text-sm font-medium text-gray-900 dark:text-white"},Ti={class:"text-sm text-gray-500 dark:text-gray-400"},Bi={class:"text-sm text-gray-900 dark:text-white"},Li={key:0},Di={key:1,class:"flex flex-wrap gap-1"},Fi={key:1,class:"text-sm text-gray-500 dark:text-gray-400"},Mi={class:"text-sm text-gray-500 dark:text-gray-400"},ji={class:"text-right text-sm font-medium"},Pi={class:"flex justify-end space-x-2"},Ii=["onClick"],Ni=["onClick"],Vi=["onClick"],qi={class:"px-6 py-4"},Hi={class:"mt-2 text-sm text-gray-600 dark:text-gray-400"},Zi={class:"px-6 py-4 bg-gray-50 dark:bg-gray-700 flex justify-end space-x-3"},Ki=M({__name:"UserList",setup(s){const t=bt(),n=C(""),r=C(""),a=C(""),o=C(null),d=O(()=>{let g=t.users;if(n.value){const i=n.value.toLowerCase();g=g.filter(b=>{var _;return`${b.first_name} ${b.last_name}`.toLowerCase().includes(i)||(((_=b.email)==null?void 0:_.toLowerCase())||"").includes(i)})}return r.value&&(g=g.filter(i=>i.org===r.value)),a.value&&(g=g.filter(i=>i.status===a.value)),g}),u=O(()=>{const g=new Set(t.users.map(i=>i.org).filter(Boolean));return Array.from(g).sort()}),v=g=>{switch(g){case"active":return"Aktiv";case"inactive":return"Inaktiv";case"suspended":return"Gesperrt";default:return g}},c=g=>{switch(g){case"active":return"green";case"inactive":return"gray";case"suspended":return"red";default:return"gray"}},y=g=>new Date(g).toLocaleDateString("de-DE"),h=()=>{n.value="",r.value="",a.value=""},x=g=>{o.value=g},p=async()=>{if(o.value)try{await t.deleteUser(o.value.id),o.value=null}catch(g){console.error("Failed to delete user:",g)}},l=g=>{console.log("Show claims for user:",g.email)};return Ue([n,r,a],()=>{t.setFilters({search:n.value||void 0,org:r.value||void 0,status:a.value||void 0})}),Y(()=>{t.loadUsers()}),(g,i)=>{const b=Z("router-link");return m(),f("div",null,[e("div",gi,[e("div",pi,[i[8]||(i[8]=e("div",null,[e("h1",{class:"page-title"},"Benutzerverwaltung"),e("p",{class:"page-subtitle"}," Verwalten Sie Benutzerkonten und Zugriffsrechte ")],-1)),e("div",hi,[w(b,{to:"/users/import",class:"btn btn-secondary"},{default:U(()=>[w(S(ws),{class:"w-4 h-4 mr-2"}),i[6]||(i[6]=z(" Import ",-1))]),_:1}),w(b,{to:"/users/create",class:"btn btn-primary"},{default:U(()=>[w(S(Re),{class:"w-4 h-4 mr-2"}),i[7]||(i[7]=z(" Benutzer erstellen ",-1))]),_:1})])])]),e("div",yi,[e("div",xi,[e("div",vi,[e("div",null,[i[9]||(i[9]=e("label",{for:"search",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"}," Suchen ",-1)),R(e("input",{id:"search",type:"text","onUpdate:modelValue":i[0]||(i[0]=_=>n.value=_),class:"form-input mt-1",placeholder:"Name, E-Mail..."},null,512),[[N,n.value]])]),e("div",null,[i[11]||(i[11]=e("label",{for:"org-filter",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"}," Organisation ",-1)),R(e("select",{id:"org-filter","onUpdate:modelValue":i[1]||(i[1]=_=>r.value=_),class:"form-select mt-1"},[i[10]||(i[10]=e("option",{value:""},"Alle Organisationen",-1)),(m(!0),f(D,null,F(u.value,_=>(m(),f("option",{key:_,value:_},$(_),9,bi))),128))],512),[[ee,r.value]])]),e("div",null,[i[13]||(i[13]=e("label",{for:"status-filter",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"}," Status ",-1)),R(e("select",{id:"status-filter","onUpdate:modelValue":i[2]||(i[2]=_=>a.value=_),class:"form-select mt-1"},[...i[12]||(i[12]=[e("option",{value:""},"Alle Status",-1),e("option",{value:"active"},"Aktiv",-1),e("option",{value:"inactive"},"Inaktiv",-1),e("option",{value:"suspended"},"Gesperrt",-1)])],512),[[ee,a.value]])]),e("div",{class:"flex items-end"},[e("button",{onClick:h,class:"btn btn-ghost"}," Filter zurcksetzen ")])])])]),e("div",ki,[e("div",_i,[e("h3",wi," Benutzer ("+$(d.value.length)+") ",1)]),e("div",$i,[S(t).isLoading?(m(),f("div",Si,[e("div",Ci,[(m(),f(D,null,F(5,_=>e("div",{key:_,class:"flex items-center space-x-4"},[...i[14]||(i[14]=[ie('<div class="skeleton w-10 h-10 rounded-full"></div><div class="flex-1 space-y-2"><div class="skeleton w-1/3 h-4"></div><div class="skeleton w-1/2 h-3"></div></div><div class="skeleton w-20 h-6"></div>',3)])])),64))])])):d.value.length===0?(m(),f("div",Ai,[w(S(ze),{class:"mx-auto h-12 w-12 text-gray-400"}),i[16]||(i[16]=e("h3",{class:"mt-2 text-sm font-medium text-gray-900 dark:text-white"}," Keine Benutzer gefunden ",-1)),e("p",Ei,$(n.value||r.value||a.value?"Keine Benutzer entsprechen den Filterkriterien.":"Erstellen Sie den ersten Benutzer."),1),e("div",Oi,[w(b,{to:"/users/create",class:"btn btn-primary"},{default:U(()=>[w(S(Re),{class:"w-4 h-4 mr-2"}),i[15]||(i[15]=z(" Benutzer erstellen ",-1))]),_:1})])])):(m(),f("table",Ri,[i[17]||(i[17]=e("thead",null,[e("tr",null,[e("th",null,"Benutzer"),e("th",null,"Organisation"),e("th",null,"Status"),e("th",null,"Admin-Berechtigung"),e("th",null,"Erstellt"),e("th",{class:"relative"},[e("span",{class:"sr-only"},"Aktionen")])])],-1)),e("tbody",null,[(m(!0),f(D,null,F(d.value,_=>(m(),f("tr",{key:_.id},[e("td",null,[e("div",zi,[w(st,{user:_,size:"sm",class:"mr-3"},null,8,["user"]),e("div",null,[e("div",Ui,$(`${_.first_name} ${_.last_name}`),1),e("div",Ti,$(_.email),1)])])]),e("td",Bi,[w(W,{text:_.org,color:"gray"},null,8,["text"])]),e("td",null,[w(W,{text:v(_.status),color:c(_.status)},null,8,["text","color"])]),e("td",null,[_.admin.length>0?(m(),f("div",Li,[_.admin.includes("all")?(m(),P(W,{key:0,text:"Global Admin",color:"red"})):(m(),f("div",Di,[(m(!0),f(D,null,F(_.admin.slice(0,2),A=>(m(),P(W,{key:A,text:A,color:"blue"},null,8,["text"]))),128)),_.admin.length>2?(m(),P(W,{key:0,text:`+${_.admin.length-2}`,color:"gray"},null,8,["text"])):B("",!0)]))])):(m(),f("span",Fi," Keine "))]),e("td",Mi,$(y(_.created_at)),1),e("td",ji,[e("div",Pi,[e("button",{onClick:A=>g.$router.push(`/users/${_.id}`),class:"btn btn-sm btn-secondary"}," Bearbeiten ",8,Ii),e("button",{onClick:A=>l(_),class:"btn btn-sm btn-ghost"}," Claims ",8,Ni),e("button",{onClick:A=>x(_),class:"btn btn-sm btn-error"}," Lschen ",8,Vi)])])]))),128))])]))])]),o.value?(m(),f("div",{key:0,class:"modal-overlay",onClick:i[5]||(i[5]=_=>o.value=null)},[e("div",{class:"modal-panel",onClick:i[4]||(i[4]=ae(()=>{},["stop"]))},[e("div",qi,[i[20]||(i[20]=e("h3",{class:"text-lg font-medium text-gray-900 dark:text-white"}," Benutzer lschen ",-1)),e("p",Hi,[i[18]||(i[18]=z(" Sind Sie sicher, dass Sie den Benutzer ",-1)),e("strong",null,$(`${o.value.first_name} ${o.value.last_name}`),1),i[19]||(i[19]=z(" lschen mchten? Diese Aktion kann nicht rckgngig gemacht werden. ",-1))])]),e("div",Zi,[e("button",{onClick:i[3]||(i[3]=_=>o.value=null),class:"btn btn-secondary"}," Abbrechen "),e("button",{onClick:p,class:"btn btn-error"}," Lschen ")])])])):B("",!0)])}}}),Wi={class:"page-header"},Gi={class:"flex items-center justify-between"},Ji={class:"card"},Qi={class:"grid grid-cols-1 gap-6 sm:grid-cols-2"},Xi={class:"sm:col-span-2"},Yi=["value"],el={key:0,value:"default"},tl={class:"space-y-4"},sl={class:"mt-2 grid grid-cols-2 gap-2 sm:grid-cols-4"},nl=["value"],rl={class:"ml-2 text-sm text-gray-700 dark:text-gray-300 capitalize"},al={key:0},ol={key:1},il={class:"flex justify-end space-x-3"},ll=["disabled"],dl={key:0},ul={key:1},cl=M({__name:"CreateUser",setup(s){const t=Te(),n=C(!1),r=C([]),a=["master","editor","staff","guardian"],o=Ee({first_name:"",last_name:"",email:"",org:"",password:"",claims:{roles:[],employee_id:"",department:"",cohorts:[]}}),d=async()=>{try{const v=await T.get("/api/organizations");r.value=v.data}catch(v){console.error("Failed to load organizations:",v)}},u=async()=>{n.value=!0;try{const v={...o,claims:{...o.claims,...o.claims.employee_id&&{employee_id:o.claims.employee_id},...o.claims.department&&{department:o.claims.department}}};await T.post("/api/users",v),t.push("/users")}catch(v){console.error("Failed to create user:",v),alert("Fehler beim Erstellen des Benutzers")}finally{n.value=!1}};return Y(()=>{d()}),(v,c)=>{const y=Z("router-link");return m(),f("div",null,[e("div",Wi,[e("div",Gi,[c[9]||(c[9]=e("div",null,[e("h1",{class:"page-title"},"Neuen Benutzer erstellen"),e("p",{class:"page-subtitle"}," Fgen Sie einen neuen Benutzer zum System hinzu ")],-1)),w(y,{to:"/users",class:"btn btn-secondary"},{default:U(()=>[w(S(et),{class:"w-4 h-4 mr-2"}),c[8]||(c[8]=z(" Zurck ",-1))]),_:1})])]),e("div",Ji,[c[21]||(c[21]=e("div",{class:"card-header"},[e("h3",{class:"text-lg font-medium text-gray-900 dark:text-white"}," Benutzerinformationen ")],-1)),e("form",{onSubmit:ae(u,["prevent"]),class:"card-body space-y-6"},[e("div",Qi,[e("div",null,[c[10]||(c[10]=e("label",{for:"first_name",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"}," Vorname * ",-1)),R(e("input",{id:"first_name",type:"text","onUpdate:modelValue":c[0]||(c[0]=h=>o.first_name=h),required:"",class:"form-input mt-1",placeholder:"Max"},null,512),[[N,o.first_name]])]),e("div",null,[c[11]||(c[11]=e("label",{for:"last_name",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"}," Nachname * ",-1)),R(e("input",{id:"last_name",type:"text","onUpdate:modelValue":c[1]||(c[1]=h=>o.last_name=h),required:"",class:"form-input mt-1",placeholder:"Mustermann"},null,512),[[N,o.last_name]])]),e("div",Xi,[c[12]||(c[12]=e("label",{for:"email",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"}," E-Mail-Adresse * ",-1)),R(e("input",{id:"email",type:"email","onUpdate:modelValue":c[2]||(c[2]=h=>o.email=h),required:"",class:"form-input mt-1",placeholder:"max.mustermann@example.com"},null,512),[[N,o.email]])]),e("div",null,[c[14]||(c[14]=e("label",{for:"org",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"}," Organisation * ",-1)),R(e("select",{id:"org","onUpdate:modelValue":c[3]||(c[3]=h=>o.org=h),required:"",class:"form-select mt-1"},[c[13]||(c[13]=e("option",{value:""},"Organisation whlen",-1)),(m(!0),f(D,null,F(r.value,h=>(m(),f("option",{key:h.id,value:h.id},$(h.name),9,Yi))),128)),r.value.length===0?(m(),f("option",el,"Default")):B("",!0)],512),[[ee,o.org]])]),e("div",null,[c[15]||(c[15]=e("label",{for:"password",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"}," Passwort * ",-1)),R(e("input",{id:"password",type:"password","onUpdate:modelValue":c[4]||(c[4]=h=>o.password=h),required:"",minlength:"8",class:"form-input mt-1",placeholder:"Mindestens 8 Zeichen"},null,512),[[N,o.password]])])]),e("div",null,[c[19]||(c[19]=e("h4",{class:"text-base font-medium text-gray-900 dark:text-white mb-4"}," Benutzer-Claims ",-1)),e("div",tl,[e("div",null,[c[16]||(c[16]=e("label",{for:"roles",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"}," Rollen ",-1)),e("div",sl,[(m(),f(D,null,F(a,h=>e("label",{key:h,class:"flex items-center"},[R(e("input",{type:"checkbox",value:h,"onUpdate:modelValue":c[5]||(c[5]=x=>o.claims.roles=x),class:"form-checkbox"},null,8,nl),[[X,o.claims.roles]]),e("span",rl,$(h),1)])),64))])]),o.claims.roles.includes("staff")?(m(),f("div",al,[c[17]||(c[17]=e("label",{for:"employee_id",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"}," Mitarbeiter-ID ",-1)),R(e("input",{id:"employee_id",type:"text","onUpdate:modelValue":c[6]||(c[6]=h=>o.claims.employee_id=h),class:"form-input mt-1",placeholder:"EMP-001"},null,512),[[N,o.claims.employee_id]])])):B("",!0),o.claims.roles.includes("staff")?(m(),f("div",ol,[c[18]||(c[18]=e("label",{for:"department",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"}," Abteilung ",-1)),R(e("input",{id:"department",type:"text","onUpdate:modelValue":c[7]||(c[7]=h=>o.claims.department=h),class:"form-input mt-1",placeholder:"IT, HR, Finance..."},null,512),[[N,o.claims.department]])])):B("",!0)])]),e("div",il,[w(y,{to:"/users",class:"btn btn-secondary"},{default:U(()=>[...c[20]||(c[20]=[z(" Abbrechen ",-1)])]),_:1}),e("button",{type:"submit",disabled:n.value,class:"btn btn-primary"},[n.value?(m(),f("span",dl,"Wird erstellt...")):(m(),f("span",ul,"Benutzer erstellen"))],8,ll)])],32)])])}}}),ml={class:"page-header"},fl={class:"flex items-center justify-between"},gl={key:0,class:"card"},pl={key:1,class:"card"},hl={class:"card-body"},yl={class:"text-center py-8"},xl={key:2,class:"card"},vl={class:"grid grid-cols-1 gap-6 sm:grid-cols-2"},bl={class:"sm:col-span-2"},kl={class:"space-y-4"},_l={class:"mt-2 grid grid-cols-2 gap-2 sm:grid-cols-4"},wl=["value"],$l={class:"ml-2 text-sm text-gray-700 dark:text-gray-300 capitalize"},Sl={key:0},Cl={key:1},Al={class:"mt-2 grid grid-cols-2 gap-2 sm:grid-cols-4"},El={class:"flex items-center"},Ol={class:"flex items-center"},Rl=["disabled"],zl={class:"flex items-center"},Ul=["disabled"],Tl={class:"flex items-center"},Bl=["disabled"],Ll={class:"flex items-center space-x-4"},Dl=["disabled"],Fl={key:0},Ml={key:1},jl={class:"flex justify-end space-x-3"},Pl=["disabled"],Il={key:0},Nl={key:1},Vl=M({__name:"EditUser",setup(s){const t=ft(),n=Te(),r=t.params.id,a=C(null),o=C(!1),d=C(!1),u=C(!1),v=["master","editor","staff","guardian"],c=Ee({first_name:"",last_name:"",email:"",organization:"",status:"active",admin:[],claims:{roles:[],employee_id:"",department:"",cohorts:[]}}),y=async()=>{var p,l,g,i;o.value=!0;try{const b=await T.get(`/api/users/${r}`);a.value=b.data,Object.assign(c,{first_name:b.data.first_name,last_name:b.data.last_name,email:b.data.email,organization:b.data.org,status:b.data.status||"active",admin:b.data.admin||[],claims:{roles:((p=b.data.claims)==null?void 0:p.roles)||[],employee_id:((l=b.data.claims)==null?void 0:l.employee_id)||"",department:((g=b.data.claims)==null?void 0:g.department)||"",cohorts:((i=b.data.claims)==null?void 0:i.cohorts)||[]}})}catch(b){console.error("Failed to load user:",b)}finally{o.value=!1}},h=async()=>{d.value=!0;try{const p={first_name:c.first_name,last_name:c.last_name,email:c.email,org:c.organization,status:c.status,admin:c.admin,claims:{...c.claims,...c.claims.employee_id&&{employee_id:c.claims.employee_id},...c.claims.department&&{department:c.claims.department}}};await T.patch(`/api/users/${r}`,p),n.push("/users")}catch(p){console.error("Failed to update user:",p),alert("Fehler beim Speichern der nderungen")}finally{d.value=!1}},x=async()=>{if(confirm("Sind Sie sicher, dass Sie das Passwort zurcksetzen mchten?")){u.value=!0;try{await T.post(`/api/users/${r}/reset-password`),alert("Passwort wurde erfolgreich zurckgesetzt. Der Benutzer erhlt eine E-Mail mit den neuen Zugangsdaten.")}catch(p){console.error("Failed to reset password:",p),alert("Fehler beim Zurcksetzen des Passworts")}finally{u.value=!1}}};return Y(()=>{y()}),(p,l)=>{const g=Z("router-link");return m(),f("div",null,[e("div",ml,[e("div",fl,[l[13]||(l[13]=e("div",null,[e("h1",{class:"page-title"},"Benutzer bearbeiten"),e("p",{class:"page-subtitle"}," Benutzerinformationen und Claims bearbeiten ")],-1)),w(g,{to:"/users",class:"btn btn-secondary"},{default:U(()=>[w(S(et),{class:"w-4 h-4 mr-2"}),l[12]||(l[12]=z(" Zurck ",-1))]),_:1})])]),o.value?(m(),f("div",gl,[...l[14]||(l[14]=[e("div",{class:"card-body"},[e("div",{class:"text-center py-8"},[e("div",{class:"spinner mx-auto"}),e("p",{class:"mt-2 text-sm text-gray-500"},"Benutzer wird geladen...")])],-1)])])):a.value?(m(),f("div",xl,[l[36]||(l[36]=e("div",{class:"card-header"},[e("h3",{class:"text-lg font-medium text-gray-900 dark:text-white"}," Benutzerinformationen ")],-1)),e("form",{onSubmit:ae(h,["prevent"]),class:"card-body space-y-6"},[e("div",vl,[e("div",null,[l[17]||(l[17]=e("label",{for:"first_name",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"}," Vorname * ",-1)),R(e("input",{id:"first_name",type:"text","onUpdate:modelValue":l[0]||(l[0]=i=>c.first_name=i),required:"",class:"form-input mt-1"},null,512),[[N,c.first_name]])]),e("div",null,[l[18]||(l[18]=e("label",{for:"last_name",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"}," Nachname * ",-1)),R(e("input",{id:"last_name",type:"text","onUpdate:modelValue":l[1]||(l[1]=i=>c.last_name=i),required:"",class:"form-input mt-1"},null,512),[[N,c.last_name]])]),e("div",bl,[l[19]||(l[19]=e("label",{for:"email",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"}," E-Mail-Adresse * ",-1)),R(e("input",{id:"email",type:"email","onUpdate:modelValue":l[2]||(l[2]=i=>c.email=i),required:"",class:"form-input mt-1"},null,512),[[N,c.email]])]),e("div",null,[l[21]||(l[21]=e("label",{for:"organization",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"}," Organisation * ",-1)),R(e("select",{id:"organization","onUpdate:modelValue":l[3]||(l[3]=i=>c.organization=i),required:"",class:"form-select mt-1"},[...l[20]||(l[20]=[e("option",{value:"default"},"Default",-1),e("option",{value:"group-7a"},"Group 7A",-1),e("option",{value:"group-8b"},"Group 8B",-1)])],512),[[ee,c.organization]])]),e("div",null,[l[23]||(l[23]=e("label",{for:"status",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"}," Status ",-1)),R(e("select",{id:"status","onUpdate:modelValue":l[4]||(l[4]=i=>c.status=i),class:"form-select mt-1"},[...l[22]||(l[22]=[e("option",{value:"active"},"Aktiv",-1),e("option",{value:"inactive"},"Inaktiv",-1),e("option",{value:"suspended"},"Gesperrt",-1)])],512),[[ee,c.status]])])]),e("div",null,[l[32]||(l[32]=e("h4",{class:"text-base font-medium text-gray-900 dark:text-white mb-4"}," Benutzer-Claims ",-1)),e("div",kl,[e("div",null,[l[24]||(l[24]=e("label",{for:"roles",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"}," Rollen ",-1)),e("div",_l,[(m(),f(D,null,F(v,i=>e("label",{key:i,class:"flex items-center"},[R(e("input",{type:"checkbox",value:i,"onUpdate:modelValue":l[5]||(l[5]=b=>c.claims.roles=b),class:"form-checkbox"},null,8,wl),[[X,c.claims.roles]]),e("span",$l,$(i),1)])),64))])]),c.claims.roles.includes("staff")?(m(),f("div",Sl,[l[25]||(l[25]=e("label",{for:"employee_id",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"}," Mitarbeiter-ID ",-1)),R(e("input",{id:"employee_id",type:"text","onUpdate:modelValue":l[6]||(l[6]=i=>c.claims.employee_id=i),class:"form-input mt-1",placeholder:"EMP-001"},null,512),[[N,c.claims.employee_id]])])):B("",!0),c.claims.roles.includes("staff")?(m(),f("div",Cl,[l[26]||(l[26]=e("label",{for:"department",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"}," Abteilung ",-1)),R(e("input",{id:"department",type:"text","onUpdate:modelValue":l[7]||(l[7]=i=>c.claims.department=i),class:"form-input mt-1",placeholder:"IT, HR, Finance..."},null,512),[[N,c.claims.department]])])):B("",!0),e("div",null,[l[31]||(l[31]=e("label",{for:"admin_orgs",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"}," Admin-Berechtigungen ",-1)),e("div",Al,[e("label",El,[R(e("input",{type:"checkbox",value:"all","onUpdate:modelValue":l[8]||(l[8]=i=>c.admin=i),class:"form-checkbox"},null,512),[[X,c.admin]]),l[27]||(l[27]=e("span",{class:"ml-2 text-sm text-gray-700 dark:text-gray-300"},"Alle Organisationen",-1))]),e("label",Ol,[R(e("input",{type:"checkbox",value:"default","onUpdate:modelValue":l[9]||(l[9]=i=>c.admin=i),disabled:c.admin.includes("all"),class:"form-checkbox"},null,8,Rl),[[X,c.admin]]),l[28]||(l[28]=e("span",{class:"ml-2 text-sm text-gray-700 dark:text-gray-300"},"Default",-1))]),e("label",zl,[R(e("input",{type:"checkbox",value:"group-7a","onUpdate:modelValue":l[10]||(l[10]=i=>c.admin=i),disabled:c.admin.includes("all"),class:"form-checkbox"},null,8,Ul),[[X,c.admin]]),l[29]||(l[29]=e("span",{class:"ml-2 text-sm text-gray-700 dark:text-gray-300"},"Group 7A",-1))]),e("label",Tl,[R(e("input",{type:"checkbox",value:"group-8b","onUpdate:modelValue":l[11]||(l[11]=i=>c.admin=i),disabled:c.admin.includes("all"),class:"form-checkbox"},null,8,Bl),[[X,c.admin]]),l[30]||(l[30]=e("span",{class:"ml-2 text-sm text-gray-700 dark:text-gray-300"},"Group 8B",-1))])])])])]),e("div",null,[l[34]||(l[34]=e("h4",{class:"text-base font-medium text-gray-900 dark:text-white mb-4"}," Passwort ",-1)),e("div",Ll,[e("button",{type:"button",onClick:x,disabled:u.value,class:"btn btn-secondary"},[u.value?(m(),f("span",Fl,"Wird zurckgesetzt...")):(m(),f("span",Ml,"Passwort zurcksetzen"))],8,Dl),l[33]||(l[33]=e("span",{class:"text-sm text-gray-500"}," Sendet dem Benutzer eine E-Mail mit einem neuen temporren Passwort ",-1))])]),e("div",jl,[w(g,{to:"/users",class:"btn btn-secondary"},{default:U(()=>[...l[35]||(l[35]=[z(" Abbrechen ",-1)])]),_:1}),e("button",{type:"submit",disabled:d.value,class:"btn btn-primary"},[d.value?(m(),f("span",Il,"Wird gespeichert...")):(m(),f("span",Nl,"nderungen speichern"))],8,Pl)])],32)])):(m(),f("div",pl,[e("div",hl,[e("div",yl,[w(S(je),{class:"mx-auto h-12 w-12 text-gray-400"}),l[15]||(l[15]=e("h3",{class:"mt-2 text-sm font-medium text-gray-900 dark:text-white"}," Benutzer nicht gefunden ",-1)),l[16]||(l[16]=e("p",{class:"mt-1 text-sm text-gray-500 dark:text-gray-400"}," Der angegebene Benutzer konnte nicht gefunden werden. ",-1))])])]))])}}}),ql={class:"card"},Hl={class:"card-body"},Zl={class:"text-center py-12"},Kl={class:"mt-6"},Wl=M({__name:"UserImport",setup(s){return(t,n)=>{const r=Z("router-link");return m(),f("div",null,[n[3]||(n[3]=e("div",{class:"page-header"},[e("h1",{class:"page-title"},"Benutzer-Import"),e("p",{class:"page-subtitle"}," Mehrere Benutzer ber CSV-Datei importieren ")],-1)),e("div",ql,[e("div",Hl,[e("div",Zl,[w(S(ws),{class:"mx-auto h-12 w-12 text-gray-400"}),n[1]||(n[1]=e("h3",{class:"mt-2 text-sm font-medium text-gray-900 dark:text-white"}," CSV-Import ",-1)),n[2]||(n[2]=e("p",{class:"mt-1 text-sm text-gray-500 dark:text-gray-400"}," Diese Funktion wird in einer zuknftigen Version implementiert. ",-1)),e("div",Kl,[w(r,{to:"/users",class:"btn btn-primary"},{default:U(()=>[...n[0]||(n[0]=[z(" Zurck zur bersicht ",-1)])]),_:1})])])])])])}}}),Gl=oe("organizations",()=>{const s=C([]),t=C(null),n=C(!1),r=C({}),a=O(()=>{let x=s.value;if(r.value.search){const p=r.value.search.toLowerCase();x=x.filter(l=>l.name.toLowerCase().includes(p)||l.description&&l.description.toLowerCase().includes(p)||l.domain&&l.domain.toLowerCase().includes(p))}return r.value.has_domain!==void 0&&(x=x.filter(p=>r.value.has_domain?!!p.domain:!p.domain)),x});return{organizations:s,currentOrganization:t,isLoading:n,filters:r,filteredOrganizations:a,loadOrganizations:async()=>{n.value=!0;try{const x=await T.get("/organizations");s.value=x.data}catch(x){throw console.error("Failed to load organizations:",x),x}finally{n.value=!1}},loadOrganization:async x=>{try{const p=await T.get(`/organizations/${x}`);return t.value=p.data,p.data}catch(p){throw console.error("Failed to load organization:",p),p}},createOrganization:async x=>{try{const l=(await T.post("/organizations",x)).data;return s.value.push(l),l}catch(p){throw console.error("Failed to create organization:",p),p}},updateOrganization:async(x,p)=>{var l;try{const i=(await T.put(`/organizations/${x}`,p)).data,b=s.value.findIndex(_=>_.id===x);return b!==-1&&(s.value[b]=i),((l=t.value)==null?void 0:l.id)===x&&(t.value=i),i}catch(g){throw console.error("Failed to update organization:",g),g}},deleteOrganization:async x=>{var p;try{await T.delete(`/organizations/${x}`),s.value=s.value.filter(l=>l.id!==x),((p=t.value)==null?void 0:p.id)===x&&(t.value=null)}catch(l){throw console.error("Failed to delete organization:",l),l}},setFilters:x=>{r.value={...r.value,...x}},clearFilters:()=>{r.value={}}}}),Jl={class:"page-header"},Ql={class:"flex items-center justify-between"},Xl={class:"card mb-6"},Yl={class:"card-body"},ed={class:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-4"},td={class:"card"},sd={class:"card-header"},nd={class:"text-lg font-medium text-gray-900 dark:text-white"},rd={class:"overflow-hidden"},ad={key:0,class:"px-6 py-8"},od={class:"space-y-4"},id={key:1,class:"px-6 py-8 text-center"},ld={class:"mt-1 text-sm text-gray-500 dark:text-gray-400"},dd={key:2,class:"table"},ud={class:"flex items-center"},cd={class:"w-12 h-12 bg-blue-100 dark:bg-blue-900 rounded-lg flex items-center justify-center mr-3"},md={class:"text-sm font-medium text-gray-900 dark:text-white"},fd={key:0,class:"text-sm text-gray-500 dark:text-gray-400"},gd={class:"text-xs text-gray-400 font-mono"},pd={key:0,class:"text-sm font-mono text-gray-900 dark:text-white"},hd={key:1,class:"text-sm text-gray-500 dark:text-gray-400"},yd={class:"text-sm text-gray-900 dark:text-white"},xd={key:0,class:"text-xs text-gray-500"},vd={key:1,class:"text-xs text-gray-400"},bd={key:0,class:"flex flex-wrap gap-1"},kd={key:1,class:"text-sm text-gray-500 dark:text-gray-400"},_d={class:"text-sm text-gray-500 dark:text-gray-400"},wd={class:"text-right text-sm font-medium"},$d={class:"flex justify-end space-x-2"},Sd=["onClick"],Cd=["onClick"],Ad=["onClick"],Ed={class:"px-6 py-4 bg-gray-50 dark:bg-gray-700 flex justify-end space-x-3"},Od=["disabled"],Rd={class:"px-6 py-4"},zd={class:"mt-2 text-sm text-gray-600 dark:text-gray-400"},Ud={class:"px-6 py-4 bg-gray-50 dark:bg-gray-700 flex justify-end space-x-3"},Td=M({__name:"OrganizationList",setup(s){const t=Gl(),n=Te(),r=C(""),a=C(""),o=C(!1),d=C(null),u=C({name:"",description:"",domain:"",max_users:null}),v=O(()=>{let g=t.organizations;if(r.value){const i=r.value.toLowerCase();g=g.filter(b=>b.name.toLowerCase().includes(i)||b.description&&b.description.toLowerCase().includes(i)||b.domain&&b.domain.toLowerCase().includes(i))}if(a.value){const i=a.value==="true";g=g.filter(b=>i?!!b.domain:!b.domain)}return g}),c=g=>new Date(g).toLocaleDateString("de-DE"),y=()=>{r.value="",a.value=""},h=async()=>{if(u.value.name)try{const g={name:u.value.name,description:u.value.description||void 0,domain:u.value.domain||void 0,settings:u.value.max_users?{max_users:u.value.max_users}:void 0};await t.createOrganization(g),u.value={name:"",description:"",domain:"",max_users:null},o.value=!1}catch(g){console.error("Failed to create organization:",g)}},x=g=>{n.push(`/organizations/${g.id}`)},p=g=>{d.value=g},l=async()=>{if(d.value)try{await t.deleteOrganization(d.value.id),d.value=null}catch(g){console.error("Failed to delete organization:",g)}};return Ue([r,a],()=>{t.setFilters({search:r.value||void 0,has_domain:a.value?a.value==="true":void 0})}),Y(()=>{t.loadOrganizations()}),(g,i)=>(m(),f("div",null,[e("div",Jl,[e("div",Ql,[i[14]||(i[14]=e("div",null,[e("h1",{class:"page-title"},"Organisationen"),e("p",{class:"page-subtitle"}," Verwalten Sie Organisationen und deren Einstellungen ")],-1)),e("button",{onClick:i[0]||(i[0]=b=>o.value=!0),class:"btn btn-primary"},[w(S(Re),{class:"w-4 h-4 mr-2"}),i[13]||(i[13]=z(" Organisation erstellen ",-1))])])]),e("div",Xl,[e("div",Yl,[e("div",ed,[e("div",null,[i[15]||(i[15]=e("label",{for:"search",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"}," Suchen ",-1)),R(e("input",{id:"search",type:"text","onUpdate:modelValue":i[1]||(i[1]=b=>r.value=b),class:"form-input mt-1",placeholder:"Name, Beschreibung, Domain..."},null,512),[[N,r.value]])]),e("div",null,[i[17]||(i[17]=e("label",{for:"domain-filter",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"}," Domain-Status ",-1)),R(e("select",{id:"domain-filter","onUpdate:modelValue":i[2]||(i[2]=b=>a.value=b),class:"form-select mt-1"},[...i[16]||(i[16]=[e("option",{value:""},"Alle",-1),e("option",{value:"true"},"Mit Domain",-1),e("option",{value:"false"},"Ohne Domain",-1)])],512),[[ee,a.value]])]),e("div",{class:"flex items-end"},[e("button",{onClick:y,class:"btn btn-ghost"}," Filter zurcksetzen ")])])])]),e("div",td,[e("div",sd,[e("h3",nd," Organisationen ("+$(v.value.length)+") ",1)]),e("div",rd,[S(t).isLoading?(m(),f("div",ad,[e("div",od,[(m(),f(D,null,F(5,b=>e("div",{key:b,class:"flex items-center space-x-4"},[...i[18]||(i[18]=[ie('<div class="skeleton w-12 h-12 rounded-lg"></div><div class="flex-1 space-y-2"><div class="skeleton w-1/3 h-4"></div><div class="skeleton w-1/2 h-3"></div></div><div class="skeleton w-20 h-6"></div>',3)])])),64))])])):v.value.length===0?(m(),f("div",id,[w(S(Oe),{class:"mx-auto h-12 w-12 text-gray-400"}),i[19]||(i[19]=e("h3",{class:"mt-2 text-sm font-medium text-gray-900 dark:text-white"}," Keine Organisationen gefunden ",-1)),e("p",ld,$(r.value||a.value?"Keine Organisationen entsprechen den Filterkriterien.":"Erstellen Sie die erste Organisation."),1)])):(m(),f("table",dd,[i[20]||(i[20]=e("thead",null,[e("tr",null,[e("th",null,"Organisation"),e("th",null,"Domain"),e("th",null,"Benutzer"),e("th",null,"Features"),e("th",null,"Erstellt"),e("th",{class:"relative"},[e("span",{class:"sr-only"},"Aktionen")])])],-1)),e("tbody",null,[(m(!0),f(D,null,F(v.value,b=>{var _,A,V;return m(),f("tr",{key:b.id},[e("td",null,[e("div",ud,[e("div",cd,[w(S(Oe),{class:"w-6 h-6 text-blue-600 dark:text-blue-300"})]),e("div",null,[e("div",md,$(b.name),1),b.description?(m(),f("div",fd,$(b.description),1)):B("",!0),e("div",gd,$(b.id),1)])])]),e("td",null,[b.domain?(m(),f("div",pd,$(b.domain),1)):(m(),f("span",hd," Keine Domain "))]),e("td",null,[e("div",yd,[z($(b.user_count||0)+" Benutzer ",1),b.admin_count?(m(),f("div",xd,$(b.admin_count)+" Admins ",1)):B("",!0),(_=b.settings)!=null&&_.max_users?(m(),f("div",vd," Max: "+$(b.settings.max_users),1)):B("",!0)])]),e("td",null,[(V=(A=b.settings)==null?void 0:A.features)!=null&&V.length?(m(),f("div",bd,[(m(!0),f(D,null,F(b.settings.features.slice(0,2),I=>(m(),P(W,{key:I,text:I,color:"green"},null,8,["text"]))),128)),b.settings.features.length>2?(m(),P(W,{key:0,text:`+${b.settings.features.length-2}`,color:"gray"},null,8,["text"])):B("",!0)])):(m(),f("span",kd," Standard "))]),e("td",_d,$(c(b.created_at)),1),e("td",wd,[e("div",$d,[e("button",{onClick:I=>g.$router.push(`/organizations/${b.id}`),class:"btn btn-sm btn-secondary"}," Details ",8,Sd),e("button",{onClick:I=>x(b),class:"btn btn-sm btn-ghost"}," Bearbeiten ",8,Cd),e("button",{onClick:I=>p(b),class:"btn btn-sm btn-error"}," Lschen ",8,Ad)])])])}),128))])]))])]),o.value?(m(),f("div",{key:0,class:"modal-overlay",onClick:i[9]||(i[9]=b=>o.value=!1)},[e("div",{class:"modal-panel max-w-2xl",onClick:i[8]||(i[8]=ae(()=>{},["stop"]))},[i[25]||(i[25]=e("div",{class:"px-6 py-4 border-b border-gray-200 dark:border-gray-700"},[e("h3",{class:"text-lg font-medium text-gray-900 dark:text-white"}," Organisation erstellen ")],-1)),e("form",{onSubmit:ae(h,["prevent"]),class:"px-6 py-4 space-y-4"},[e("div",null,[i[21]||(i[21]=e("label",{for:"name",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"}," Name * ",-1)),R(e("input",{id:"name","onUpdate:modelValue":i[3]||(i[3]=b=>u.value.name=b),type:"text",required:"",class:"form-input mt-1",placeholder:"z.B. Acme Corporation"},null,512),[[N,u.value.name]])]),e("div",null,[i[22]||(i[22]=e("label",{for:"description",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"}," Beschreibung ",-1)),R(e("textarea",{id:"description","onUpdate:modelValue":i[4]||(i[4]=b=>u.value.description=b),rows:"3",class:"form-textarea mt-1",placeholder:"Optionale Beschreibung der Organisation"},null,512),[[N,u.value.description]])]),e("div",null,[i[23]||(i[23]=e("label",{for:"domain",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"}," Domain ",-1)),R(e("input",{id:"domain","onUpdate:modelValue":i[5]||(i[5]=b=>u.value.domain=b),type:"text",class:"form-input mt-1",placeholder:"z.B. acme.com"},null,512),[[N,u.value.domain]])]),e("div",null,[i[24]||(i[24]=e("label",{for:"max-users",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"}," Maximale Benutzeranzahl ",-1)),R(e("input",{id:"max-users","onUpdate:modelValue":i[6]||(i[6]=b=>u.value.max_users=b),type:"number",min:"1",class:"form-input mt-1",placeholder:"z.B. 100"},null,512),[[N,u.value.max_users]])])],32),e("div",Ed,[e("button",{onClick:i[7]||(i[7]=b=>o.value=!1),class:"btn btn-secondary"}," Abbrechen "),e("button",{onClick:h,disabled:!u.value.name,class:"btn btn-primary"}," Erstellen ",8,Od)])])])):B("",!0),d.value?(m(),f("div",{key:1,class:"modal-overlay",onClick:i[12]||(i[12]=b=>d.value=null)},[e("div",{class:"modal-panel",onClick:i[11]||(i[11]=ae(()=>{},["stop"]))},[e("div",Rd,[i[28]||(i[28]=e("h3",{class:"text-lg font-medium text-gray-900 dark:text-white"}," Organisation lschen ",-1)),e("p",zd,[i[26]||(i[26]=z(" Sind Sie sicher, dass Sie die Organisation ",-1)),e("strong",null,$(d.value.name),1),i[27]||(i[27]=z(" lschen mchten? Alle Benutzer und Daten dieser Organisation werden ebenfalls gelscht. Diese Aktion kann nicht rckgngig gemacht werden. ",-1))])]),e("div",Ud,[e("button",{onClick:i[10]||(i[10]=b=>d.value=null),class:"btn btn-secondary"}," Abbrechen "),e("button",{onClick:l,class:"btn btn-error"}," Lschen ")])])])):B("",!0)]))}}),Bd={class:"card"},Ld={class:"card-body"},Dd={class:"text-center py-12"},Fd={class:"mt-2 text-sm font-medium text-gray-900 dark:text-white"},Md={class:"mt-6"},jd=M({__name:"OrganizationDetail",props:{id:{}},setup(s){return(t,n)=>{const r=Z("router-link");return m(),f("div",null,[n[2]||(n[2]=e("div",{class:"page-header"},[e("h1",{class:"page-title"},"Organisation Details"),e("p",{class:"page-subtitle"}," Organisationsinformationen und Mitglieder ")],-1)),e("div",Bd,[e("div",Ld,[e("div",Dd,[w(S(Oe),{class:"mx-auto h-12 w-12 text-gray-400"}),e("h3",Fd," Organisation: "+$(s.id),1),n[1]||(n[1]=e("p",{class:"mt-1 text-sm text-gray-500 dark:text-gray-400"}," Diese Funktion wird in einer zuknftigen Version implementiert. ",-1)),e("div",Md,[w(r,{to:"/organizations",class:"btn btn-primary"},{default:U(()=>[...n[0]||(n[0]=[z(" Zurck zur bersicht ",-1)])]),_:1})])])])])])}}}),Pd=oe("clients",()=>{const s=C([]),t=C(null),n=C(!1),r=C({}),a=O(()=>{let p=s.value;if(r.value.search){const l=r.value.search.toLowerCase();p=p.filter(g=>g.name.toLowerCase().includes(l)||g.description&&g.description.toLowerCase().includes(l))}return r.value.grant_type&&(p=p.filter(l=>l.grant_types.includes(r.value.grant_type))),p});return{clients:s,currentClient:t,isLoading:n,filters:r,filteredClients:a,loadClients:async()=>{n.value=!0;try{const p=await T.get("/clients");s.value=p.data}catch(p){throw console.error("Failed to load clients:",p),p}finally{n.value=!1}},loadClient:async p=>{try{const l=await T.get(`/clients/${p}`);return t.value=l.data,l.data}catch(l){throw console.error("Failed to load client:",l),l}},createClient:async p=>{try{const g=(await T.post("/clients",p)).data;return s.value.push(g),g}catch(l){throw console.error("Failed to create client:",l),l}},updateClient:async(p,l)=>{var g;try{const b=(await T.put(`/clients/${p}`,l)).data,_=s.value.findIndex(A=>A.id===p);return _!==-1&&(s.value[_]=b),((g=t.value)==null?void 0:g.id)===p&&(t.value=b),b}catch(i){throw console.error("Failed to update client:",i),i}},deleteClient:async p=>{var l;try{await T.delete(`/clients/${p}`),s.value=s.value.filter(g=>g.id!==p),((l=t.value)==null?void 0:l.id)===p&&(t.value=null)}catch(g){throw console.error("Failed to delete client:",g),g}},rotateSecret:async p=>{var l;try{const i=(await T.post(`/clients/${p}/rotate-secret`)).data.client_secret,b=s.value.findIndex(_=>_.id===p);return b!==-1&&(s.value[b].client_secret=i),((l=t.value)==null?void 0:l.id)===p&&(t.value.client_secret=i),i}catch(g){throw console.error("Failed to rotate client secret:",g),g}},setFilters:p=>{r.value={...r.value,...p}},clearFilters:()=>{r.value={}}}}),Id={class:"page-header"},Nd={class:"flex items-center justify-between"},Vd={class:"card mb-6"},qd={class:"card-body"},Hd={class:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-4"},Zd={class:"card"},Kd={class:"card-header"},Wd={class:"text-lg font-medium text-gray-900 dark:text-white"},Gd={class:"overflow-hidden"},Jd={key:0,class:"px-6 py-8"},Qd={class:"space-y-4"},Xd={key:1,class:"px-6 py-8 text-center"},Yd={class:"mt-1 text-sm text-gray-500 dark:text-gray-400"},eu={key:2,class:"table"},tu={class:"flex items-center"},su={class:"w-10 h-10 bg-indigo-100 dark:bg-indigo-900 rounded-lg flex items-center justify-center mr-3"},nu={class:"text-sm font-medium text-gray-900 dark:text-white"},ru={key:0,class:"text-sm text-gray-500 dark:text-gray-400"},au={class:"text-xs text-gray-400 font-mono"},ou={class:"flex flex-wrap gap-1"},iu={class:"max-w-xs"},lu={key:0,class:"space-y-1"},du={key:0,class:"text-xs text-gray-500"},uu={key:1,class:"text-sm text-gray-500 dark:text-gray-400"},cu={class:"flex flex-wrap gap-1"},mu={class:"text-sm text-gray-500 dark:text-gray-400"},fu={class:"text-right text-sm font-medium"},gu={class:"flex justify-end space-x-2"},pu=["onClick"],hu=["onClick"],yu=["onClick"],xu={class:"px-6 py-4"},vu={class:"mt-2 text-sm text-gray-600 dark:text-gray-400"},bu={class:"px-6 py-4 bg-gray-50 dark:bg-gray-700 flex justify-end space-x-3"},ku={class:"px-6 py-4"},_u={class:"mt-4 p-3 bg-gray-100 dark:bg-gray-800 rounded-lg"},wu={class:"flex items-center justify-between"},$u={class:"text-sm font-mono"},Su={class:"px-6 py-4 bg-gray-50 dark:bg-gray-700 flex justify-end"},Cu=M({__name:"ClientList",setup(s){const t=Pd(),n=C(""),r=C(""),a=C(null),o=C(!1),d=C(""),u=O(()=>{let g=t.clients;if(n.value){const i=n.value.toLowerCase();g=g.filter(b=>b.name.toLowerCase().includes(i)||b.description&&b.description.toLowerCase().includes(i))}return r.value&&(g=g.filter(i=>i.grant_types.includes(r.value))),g}),v=g=>({authorization_code:"Auth Code",client_credentials:"Client Creds",implicit:"Implicit",password:"Password"})[g]||g,c=g=>new Date(g).toLocaleDateString("de-DE"),y=()=>{n.value="",r.value=""},h=g=>{a.value=g},x=async()=>{if(a.value)try{await t.deleteClient(a.value.id),a.value=null}catch(g){console.error("Failed to delete client:",g)}},p=async g=>{try{const i=await t.rotateSecret(g.id);d.value=i,o.value=!0}catch(i){console.error("Failed to rotate client secret:",i)}},l=async()=>{try{await navigator.clipboard.writeText(d.value)}catch(g){console.error("Failed to copy secret:",g)}};return Ue([n,r],()=>{t.setFilters({search:n.value||void 0,grant_type:r.value||void 0})}),Y(()=>{t.loadClients()}),(g,i)=>{const b=Z("router-link");return m(),f("div",null,[e("div",Id,[e("div",Nd,[i[9]||(i[9]=e("div",null,[e("h1",{class:"page-title"},"OAuth2 Clients"),e("p",{class:"page-subtitle"}," Verwalten Sie OAuth2-Anwendungen und API-Zugriffe ")],-1)),w(b,{to:"/clients/create",class:"btn btn-primary"},{default:U(()=>[w(S(Re),{class:"w-4 h-4 mr-2"}),i[8]||(i[8]=z(" Client erstellen ",-1))]),_:1})])]),e("div",Vd,[e("div",qd,[e("div",Hd,[e("div",null,[i[10]||(i[10]=e("label",{for:"search",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"}," Suchen ",-1)),R(e("input",{id:"search",type:"text","onUpdate:modelValue":i[0]||(i[0]=_=>n.value=_),class:"form-input mt-1",placeholder:"Name, Beschreibung..."},null,512),[[N,n.value]])]),e("div",null,[i[12]||(i[12]=e("label",{for:"grant-type-filter",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"}," Grant Type ",-1)),R(e("select",{id:"grant-type-filter","onUpdate:modelValue":i[1]||(i[1]=_=>r.value=_),class:"form-select mt-1"},[...i[11]||(i[11]=[ie('<option value="">Alle Grant Types</option><option value="authorization_code">Authorization Code</option><option value="client_credentials">Client Credentials</option><option value="implicit">Implicit</option><option value="password">Password</option>',5)])],512),[[ee,r.value]])]),e("div",{class:"flex items-end"},[e("button",{onClick:y,class:"btn btn-ghost"}," Filter zurcksetzen ")])])])]),e("div",Zd,[e("div",Kd,[e("h3",Wd," OAuth2 Clients ("+$(u.value.length)+") ",1)]),e("div",Gd,[S(t).isLoading?(m(),f("div",Jd,[e("div",Qd,[(m(),f(D,null,F(5,_=>e("div",{key:_,class:"flex items-center space-x-4"},[...i[13]||(i[13]=[ie('<div class="skeleton w-10 h-10 rounded-lg"></div><div class="flex-1 space-y-2"><div class="skeleton w-1/3 h-4"></div><div class="skeleton w-1/2 h-3"></div></div><div class="skeleton w-20 h-6"></div>',3)])])),64))])])):u.value.length===0?(m(),f("div",Xd,[w(S(ye),{class:"mx-auto h-12 w-12 text-gray-400"}),i[14]||(i[14]=e("h3",{class:"mt-2 text-sm font-medium text-gray-900 dark:text-white"}," Keine OAuth2-Clients gefunden ",-1)),e("p",Yd,$(n.value||r.value?"Keine Clients entsprechen den Filterkriterien.":"Erstellen Sie den ersten OAuth2-Client."),1)])):(m(),f("table",eu,[i[15]||(i[15]=e("thead",null,[e("tr",null,[e("th",null,"Client"),e("th",null,"Grant Types"),e("th",null,"Redirect URIs"),e("th",null,"Scope"),e("th",null,"Erstellt"),e("th",{class:"relative"},[e("span",{class:"sr-only"},"Aktionen")])])],-1)),e("tbody",null,[(m(!0),f(D,null,F(u.value,_=>(m(),f("tr",{key:_.id},[e("td",null,[e("div",tu,[e("div",su,[w(S(ye),{class:"w-5 h-5 text-indigo-600 dark:text-indigo-300"})]),e("div",null,[e("div",nu,$(_.name),1),_.description?(m(),f("div",ru,$(_.description),1)):B("",!0),e("div",au,$(_.id),1)])])]),e("td",null,[e("div",ou,[(m(!0),f(D,null,F(_.grant_types,A=>(m(),P(W,{key:A,text:v(A),color:"blue"},null,8,["text"]))),128))])]),e("td",iu,[_.redirect_uris.length>0?(m(),f("div",lu,[(m(!0),f(D,null,F(_.redirect_uris.slice(0,2),(A,V)=>(m(),f("div",{key:V,class:"text-xs font-mono text-gray-600 dark:text-gray-300 truncate"},$(A),1))),128)),_.redirect_uris.length>2?(m(),f("div",du," +"+$(_.redirect_uris.length-2)+" weitere ",1)):B("",!0)])):(m(),f("span",uu," Keine "))]),e("td",null,[e("div",cu,[(m(!0),f(D,null,F(_.scope.slice(0,3),A=>(m(),P(W,{key:A,text:A,color:"gray"},null,8,["text"]))),128)),_.scope.length>3?(m(),P(W,{key:0,text:`+${_.scope.length-3}`,color:"gray"},null,8,["text"])):B("",!0)])]),e("td",mu,$(c(_.created_at)),1),e("td",fu,[e("div",gu,[e("button",{onClick:A=>g.$router.push(`/clients/${_.id}`),class:"btn btn-sm btn-secondary"}," Details ",8,pu),e("button",{onClick:A=>p(_),class:"btn btn-sm btn-ghost"}," Secret rotieren ",8,hu),e("button",{onClick:A=>h(_),class:"btn btn-sm btn-error"}," Lschen ",8,yu)])])]))),128))])]))])]),a.value?(m(),f("div",{key:0,class:"modal-overlay",onClick:i[4]||(i[4]=_=>a.value=null)},[e("div",{class:"modal-panel",onClick:i[3]||(i[3]=ae(()=>{},["stop"]))},[e("div",xu,[i[18]||(i[18]=e("h3",{class:"text-lg font-medium text-gray-900 dark:text-white"}," Client lschen ",-1)),e("p",vu,[i[16]||(i[16]=z(" Sind Sie sicher, dass Sie den OAuth2-Client ",-1)),e("strong",null,$(a.value.name),1),i[17]||(i[17]=z(" lschen mchten? Diese Aktion kann nicht rckgngig gemacht werden und alle Anwendungen, die diesen Client verwenden, werden nicht mehr funktionieren. ",-1))])]),e("div",bu,[e("button",{onClick:i[2]||(i[2]=_=>a.value=null),class:"btn btn-secondary"}," Abbrechen "),e("button",{onClick:x,class:"btn btn-error"}," Lschen ")])])])):B("",!0),o.value?(m(),f("div",{key:1,class:"modal-overlay",onClick:i[7]||(i[7]=_=>o.value=!1)},[e("div",{class:"modal-panel",onClick:i[6]||(i[6]=ae(()=>{},["stop"]))},[e("div",ku,[i[19]||(i[19]=e("h3",{class:"text-lg font-medium text-gray-900 dark:text-white"}," Neues Client Secret ",-1)),i[20]||(i[20]=e("p",{class:"mt-2 text-sm text-gray-600 dark:text-gray-400"}," Das Client Secret wurde erfolgreich rotiert. Bitte speichern Sie das neue Secret an einem sicheren Ort. Es wird nur einmal angezeigt. ",-1)),e("div",_u,[e("div",wu,[e("code",$u,$(d.value),1),e("button",{onClick:l,class:"btn btn-sm btn-ghost"}," Kopieren ")])])]),e("div",Su,[e("button",{onClick:i[5]||(i[5]=_=>o.value=!1),class:"btn btn-primary"}," Verstanden ")])])])):B("",!0)])}}}),Au={class:"page-header"},Eu={class:"flex items-center justify-between"},Ou={class:"card"},Ru={class:"grid grid-cols-1 gap-6 sm:grid-cols-2"},zu={class:"sm:col-span-2"},Uu={class:"space-y-2"},Tu=["onUpdate:modelValue"],Bu=["onClick"],Lu={class:"grid grid-cols-2 gap-2 sm:grid-cols-4"},Du=["value"],Fu={class:"ml-2 text-sm text-gray-700 dark:text-gray-300"},Mu={class:"grid grid-cols-1 gap-2 sm:grid-cols-2"},ju=["value"],Pu={class:"ml-2 text-sm text-gray-700 dark:text-gray-300"},Iu={class:"space-y-4"},Nu={class:"flex items-center"},Vu={class:"flex justify-end space-x-3"},qu=["disabled"],Hu={key:0},Zu={key:1},Ku=M({__name:"CreateClient",setup(s){const t=Te(),n=C(!1),r=["openid","profile","email","roles","api:read","api:write","admin"],a=["authorization_code","client_credentials","refresh_token"],o=Ee({client_id:"",name:"",client_type:"",redirect_uris:[""],allowed_scopes:[],grant_types:[],require_pkce:!0}),d=()=>{o.redirect_uris.push("")},u=c=>{o.redirect_uris.length>1&&o.redirect_uris.splice(c,1)},v=async()=>{n.value=!0;try{const c={...o,redirect_uris:o.redirect_uris.filter(y=>y.trim()!=="")};await T.post("/api/clients",c),t.push("/clients")}catch(c){console.error("Failed to create client:",c),alert("Fehler beim Erstellen des Clients")}finally{n.value=!1}};return(c,y)=>{const h=Z("router-link");return m(),f("div",null,[e("div",Au,[e("div",Eu,[y[7]||(y[7]=e("div",null,[e("h1",{class:"page-title"},"Neuen Client erstellen"),e("p",{class:"page-subtitle"}," OAuth2/OIDC Client-Anwendung registrieren ")],-1)),w(h,{to:"/clients",class:"btn btn-secondary"},{default:U(()=>[w(S(et),{class:"w-4 h-4 mr-2"}),y[6]||(y[6]=z(" Zurck ",-1))]),_:1})])]),e("div",Ou,[y[17]||(y[17]=e("div",{class:"card-header"},[e("h3",{class:"text-lg font-medium text-gray-900 dark:text-white"}," Client-Konfiguration ")],-1)),e("form",{onSubmit:ae(v,["prevent"]),class:"card-body space-y-6"},[e("div",Ru,[e("div",null,[y[8]||(y[8]=e("label",{for:"client_id",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"}," Client-ID * ",-1)),R(e("input",{id:"client_id",type:"text","onUpdate:modelValue":y[0]||(y[0]=x=>o.client_id=x),required:"",class:"form-input mt-1",placeholder:"my-app-client"},null,512),[[N,o.client_id]])]),e("div",null,[y[9]||(y[9]=e("label",{for:"name",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"}," Anwendungsname * ",-1)),R(e("input",{id:"name",type:"text","onUpdate:modelValue":y[1]||(y[1]=x=>o.name=x),required:"",class:"form-input mt-1",placeholder:"My Application"},null,512),[[N,o.name]])]),e("div",zu,[y[11]||(y[11]=e("label",{for:"client_type",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"}," Client-Typ * ",-1)),R(e("select",{id:"client_type","onUpdate:modelValue":y[2]||(y[2]=x=>o.client_type=x),required:"",class:"form-select mt-1"},[...y[10]||(y[10]=[e("option",{value:""},"Client-Typ whlen",-1),e("option",{value:"public"},"Public (SPA, Mobile Apps)",-1),e("option",{value:"confidential"},"Confidential (Server-side Apps)",-1)])],512),[[ee,o.client_type]])])]),e("div",null,[y[12]||(y[12]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Redirect URIs * ",-1)),e("div",Uu,[(m(!0),f(D,null,F(o.redirect_uris,(x,p)=>(m(),f("div",{key:p,class:"flex items-center space-x-2"},[R(e("input",{type:"url","onUpdate:modelValue":l=>o.redirect_uris[p]=l,required:"",class:"form-input flex-1",placeholder:"https://example.com/auth/callback"},null,8,Tu),[[N,o.redirect_uris[p]]]),e("button",{type:"button",onClick:l=>u(p),class:"btn btn-sm btn-ghost text-red-600"}," Entfernen ",8,Bu)]))),128)),e("button",{type:"button",onClick:d,class:"btn btn-sm btn-secondary"}," URI hinzufgen ")])]),e("div",null,[y[13]||(y[13]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Erlaubte Scopes * ",-1)),e("div",Lu,[(m(),f(D,null,F(r,x=>e("label",{key:x,class:"flex items-center"},[R(e("input",{type:"checkbox",value:x,"onUpdate:modelValue":y[3]||(y[3]=p=>o.allowed_scopes=p),class:"form-checkbox"},null,8,Du),[[X,o.allowed_scopes]]),e("span",Fu,$(x),1)])),64))])]),e("div",null,[y[14]||(y[14]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Grant Types * ",-1)),e("div",Mu,[(m(),f(D,null,F(a,x=>e("label",{key:x,class:"flex items-center"},[R(e("input",{type:"checkbox",value:x,"onUpdate:modelValue":y[4]||(y[4]=p=>o.grant_types=p),class:"form-checkbox"},null,8,ju),[[X,o.grant_types]]),e("span",Pu,$(x),1)])),64))])]),e("div",Iu,[e("div",Nu,[R(e("input",{id:"require_pkce",type:"checkbox","onUpdate:modelValue":y[5]||(y[5]=x=>o.require_pkce=x),class:"form-checkbox"},null,512),[[X,o.require_pkce]]),y[15]||(y[15]=e("label",{for:"require_pkce",class:"ml-2 text-sm text-gray-700 dark:text-gray-300"}," PKCE erforderlich (empfohlen fr public clients) ",-1))])]),e("div",Vu,[w(h,{to:"/clients",class:"btn btn-secondary"},{default:U(()=>[...y[16]||(y[16]=[z(" Abbrechen ",-1)])]),_:1}),e("button",{type:"submit",disabled:n.value,class:"btn btn-primary"},[n.value?(m(),f("span",Hu,"Wird erstellt...")):(m(),f("span",Zu,"Client erstellen"))],8,qu)])],32)])])}}}),Wu={class:"card"},Gu={class:"card-body"},Ju={class:"text-center py-12"},Qu={class:"mt-2 text-sm font-medium text-gray-900 dark:text-white"},Xu={class:"mt-6"},Yu=M({__name:"ClientDetail",props:{id:{}},setup(s){return(t,n)=>{const r=Z("router-link");return m(),f("div",null,[n[2]||(n[2]=e("div",{class:"page-header"},[e("h1",{class:"page-title"},"OAuth2 Client Details"),e("p",{class:"page-subtitle"}," Client-Informationen und Einstellungen ")],-1)),e("div",Wu,[e("div",Gu,[e("div",Ju,[w(S(ye),{class:"mx-auto h-12 w-12 text-gray-400"}),e("h3",Qu," Client: "+$(s.id),1),n[1]||(n[1]=e("p",{class:"mt-1 text-sm text-gray-500 dark:text-gray-400"}," Diese Funktion wird in einer zuknftigen Version implementiert. ",-1)),e("div",Xu,[w(r,{to:"/clients",class:"btn btn-primary"},{default:U(()=>[...n[0]||(n[0]=[z(" Zurck zur bersicht ",-1)])]),_:1})])])])])])}}}),As=oe("claims",()=>{const s=C(null),t=C(!1),n=O(()=>s.value?Object.entries(s.value.claims).map(([d,u])=>({key:d,...u})):[]),r=O(()=>{const d={};return n.value.forEach(u=>{d[u.type]||(d[u.type]=[]),d[u.type].push(u)}),d});return{registry:s,isLoading:t,availableClaims:n,claimsByType:r,loadClaimsRegistry:async()=>{t.value=!0;try{const d=await T.get("/api/claims/registry");s.value=d.data}catch(d){throw console.error("Failed to load claims registry:",d),d}finally{t.value=!1}},updateClaimsRegistry:async d=>{try{const u=await T.put("/api/claims/registry",d);s.value=u.data}catch(u){throw console.error("Failed to update claims registry:",u),u}}}}),ec={class:"page-header"},tc={class:"flex items-center justify-between"},sc={class:"flex space-x-3"},nc={class:"grid grid-cols-1 gap-6 lg:grid-cols-3 mb-6"},rc={class:"card"},ac={class:"card-body"},oc={class:"flex items-center"},ic={class:"flex-shrink-0"},lc={class:"ml-5 w-0 flex-1"},dc={class:"text-lg font-medium text-gray-900 dark:text-white"},uc={class:"card"},cc={class:"card-body"},mc={class:"flex items-center"},fc={class:"flex-shrink-0"},gc={class:"ml-5 w-0 flex-1"},pc={class:"text-lg font-medium text-gray-900 dark:text-white"},hc={class:"card"},yc={class:"card-body"},xc={class:"flex items-center"},vc={class:"flex-shrink-0"},bc={class:"ml-5 w-0 flex-1"},kc={class:"text-sm font-medium text-gray-900 dark:text-white"},_c={key:0,class:"space-y-6"},wc={class:"card-header"},$c={class:"text-lg font-medium text-gray-900 dark:text-white capitalize"},Sc={class:"card-body"},Cc={class:"grid gap-4"},Ac={class:"flex items-start justify-between"},Ec={class:"flex-1"},Oc={class:"text-sm font-medium text-gray-900 dark:text-white font-mono"},Rc={key:0,class:"mt-1 text-sm text-gray-600 dark:text-gray-400"},zc={class:"mt-2 flex flex-wrap gap-2"},Uc={key:1,class:"mt-2"},Tc={class:"text-xs bg-gray-100 dark:bg-gray-800 px-1 py-0.5 rounded"},Bc={key:1,class:"card"},Lc={class:"card-body"},Dc={class:"space-y-4"},Fc={key:2,class:"card"},Mc={class:"card-body"},jc={class:"text-center py-12"},Pc={class:"mt-6"},Ic=M({__name:"ClaimsList",setup(s){const t=As(),n=d=>({string:"blue",number:"green",boolean:"purple",array:"yellow",object:"gray"})[d]||"gray",r=d=>typeof d=="string"?`"${d}"`:typeof d=="object"?JSON.stringify(d):String(d),a=d=>new Date(d).toLocaleDateString("de-DE"),o=async()=>{await t.loadClaimsRegistry()};return Y(()=>{t.loadClaimsRegistry()}),(d,u)=>{var c;const v=Z("router-link");return m(),f("div",null,[e("div",ec,[e("div",tc,[u[2]||(u[2]=e("div",null,[e("h1",{class:"page-title"},"Claims Verwaltung"),e("p",{class:"page-subtitle"}," Verwalten Sie verfgbare Claims und Berechtigungen ")],-1)),e("div",sc,[w(v,{to:"/claims/registry",class:"btn btn-secondary"},{default:U(()=>[w(S(tt),{class:"w-4 h-4 mr-2"}),u[0]||(u[0]=z(" Registry ",-1))]),_:1}),e("button",{onClick:o,class:"btn btn-primary"},[w(S(Me),{class:"w-4 h-4 mr-2"}),u[1]||(u[1]=z(" Aktualisieren ",-1))])])])]),e("div",nc,[e("div",rc,[e("div",ac,[e("div",oc,[e("div",ic,[w(S(mt),{class:"h-8 w-8 text-blue-600"})]),e("div",lc,[e("dl",null,[u[3]||(u[3]=e("dt",{class:"text-sm font-medium text-gray-500 dark:text-gray-400 truncate"}," Verfgbare Claims ",-1)),e("dd",dc,$(S(t).availableClaims.length),1)])])])])]),e("div",uc,[e("div",cc,[e("div",mc,[e("div",fc,[w(S(zr),{class:"h-8 w-8 text-green-600"})]),e("div",gc,[e("dl",null,[u[4]||(u[4]=e("dt",{class:"text-sm font-medium text-gray-500 dark:text-gray-400 truncate"}," Claim-Typen ",-1)),e("dd",pc,$(Object.keys(S(t).claimsByType).length),1)])])])])]),e("div",hc,[e("div",yc,[e("div",xc,[e("div",vc,[w(S(he),{class:"h-8 w-8 text-yellow-600"})]),e("div",bc,[e("dl",null,[u[5]||(u[5]=e("dt",{class:"text-sm font-medium text-gray-500 dark:text-gray-400 truncate"}," Letzte Aktualisierung ",-1)),e("dd",kc,$((c=S(t).registry)!=null&&c.last_updated?a(S(t).registry.last_updated):"-"),1)])])])])])]),!S(t).isLoading&&S(t).availableClaims.length>0?(m(),f("div",_c,[(m(!0),f(D,null,F(S(t).claimsByType,(y,h)=>(m(),f("div",{key:h,class:"card"},[e("div",wc,[e("h3",$c,$(h)+" Claims ("+$(y.length)+") ",1)]),e("div",Sc,[e("div",Cc,[(m(!0),f(D,null,F(y,x=>(m(),f("div",{key:x.key,class:"border border-gray-200 dark:border-gray-700 rounded-lg p-4"},[e("div",Ac,[e("div",Ec,[e("h4",Oc,$(x.key),1),x.description?(m(),f("p",Rc,$(x.description),1)):B("",!0),e("div",zc,[w(W,{text:x.type,color:n(x.type)},null,8,["text","color"]),x.required?(m(),P(W,{key:0,text:"Required",color:"red"})):B("",!0),x.default_value!==void 0?(m(),P(W,{key:1,text:"Has Default",color:"blue"})):B("",!0)]),x.default_value!==void 0?(m(),f("div",Uc,[u[6]||(u[6]=e("span",{class:"text-xs text-gray-500 dark:text-gray-400"},"Default: ",-1)),e("code",Tc,$(r(x.default_value)),1)])):B("",!0)])])]))),128))])])]))),128))])):S(t).isLoading?(m(),f("div",Bc,[e("div",Lc,[e("div",Dc,[(m(),f(D,null,F(5,y=>e("div",{key:y,class:"flex items-start space-x-4"},[...u[7]||(u[7]=[ie('<div class="skeleton w-20 h-16"></div><div class="flex-1 space-y-2"><div class="skeleton w-1/3 h-4"></div><div class="skeleton w-2/3 h-3"></div><div class="skeleton w-1/4 h-3"></div></div>',2)])])),64))])])])):(m(),f("div",Fc,[e("div",Mc,[e("div",jc,[w(S(mt),{class:"mx-auto h-12 w-12 text-gray-400"}),u[9]||(u[9]=e("h3",{class:"mt-2 text-sm font-medium text-gray-900 dark:text-white"}," Keine Claims konfiguriert ",-1)),u[10]||(u[10]=e("p",{class:"mt-1 text-sm text-gray-500 dark:text-gray-400"}," Es sind noch keine Claims in der Registry definiert. ",-1)),e("div",Pc,[w(v,{to:"/claims/registry",class:"btn btn-primary"},{default:U(()=>[...u[8]||(u[8]=[z(" Claims Registry konfigurieren ",-1)])]),_:1})])])])]))])}}}),Nc={class:"page-header"},Vc={class:"flex items-center justify-between"},qc={class:"flex space-x-3"},Hc=["disabled"],Zc={key:0},Kc={key:1},Wc={class:"card"},Gc={class:"card-body"},Jc={key:0,class:"text-center py-8"},Qc={key:1,class:"space-y-6"},Xc={class:"border border-dashed border-gray-300 dark:border-gray-700 rounded-lg p-4"},Yc={class:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-4"},e0=["disabled"],t0={class:"space-y-4"},s0={class:"grid grid-cols-1 gap-4 lg:grid-cols-2"},n0={class:"space-y-4"},r0=["value"],a0=["onUpdate:modelValue"],o0=["onUpdate:modelValue"],i0={class:"space-y-4"},l0={class:"space-y-2"},d0={class:"flex items-center"},u0=["onUpdate:modelValue"],c0={class:"flex items-center"},m0=["onUpdate:modelValue"],f0={class:"flex items-center"},g0=["onUpdate:modelValue"],p0={class:"flex items-center"},h0=["onUpdate:modelValue"],y0={key:0},x0=["value","onInput"],v0={class:"flex justify-end"},b0=["onClick"],k0=M({__name:"ClaimsRegistry",setup(s){const t=As(),n=C(!1),r=C(!1),a=Ee({version:"1.0",claims:{},last_updated:""}),o=Ee({key:"",type:"",description:""}),d=async()=>{n.value=!0;try{await t.loadClaimsRegistry(),t.registry&&Object.assign(a,t.registry)}catch(h){console.error("Failed to load registry:",h)}finally{n.value=!1}},u=()=>{!o.key||!o.type||(a.claims[o.key]={type:o.type,description:o.description,default_allowed:!0,required:!1,sensitive:!1,admin_only:!1,...o.type==="array"&&{items:{type:"string"}}},o.key="",o.type="",o.description="")},v=h=>{confirm(`Sind Sie sicher, dass Sie den Claim "${h}" entfernen mchten?`)&&delete a.claims[h]},c=(h,x)=>{const p=x.target;try{a.claims[h].items=JSON.parse(p.value)}catch(l){console.warn("Invalid JSON for claim items:",l)}},y=async()=>{r.value=!0;try{const h={...a,last_updated:new Date().toISOString()};await t.updateClaimsRegistry(h),alert("Registry erfolgreich gespeichert!")}catch(h){console.error("Failed to save registry:",h),alert("Fehler beim Speichern der Registry")}finally{r.value=!1}};return Y(()=>{d()}),(h,x)=>{const p=Z("router-link");return m(),f("div",null,[e("div",Nc,[e("div",Vc,[x[4]||(x[4]=e("div",null,[e("h1",{class:"page-title"},"Claims Registry Editor"),e("p",{class:"page-subtitle"}," Bearbeiten Sie die verfgbaren Claims und deren Definitionen ")],-1)),e("div",qc,[w(p,{to:"/claims",class:"btn btn-secondary"},{default:U(()=>[w(S(et),{class:"w-4 h-4 mr-2"}),x[3]||(x[3]=z(" Zurck ",-1))]),_:1}),e("button",{onClick:y,disabled:r.value,class:"btn btn-primary"},[r.value?(m(),f("span",Zc,"Wird gespeichert...")):(m(),f("span",Kc,"Registry speichern"))],8,Hc)])])]),e("div",Wc,[x[17]||(x[17]=e("div",{class:"card-header"},[e("h3",{class:"text-lg font-medium text-gray-900 dark:text-white"}," Claims Definitionen ")],-1)),e("div",Gc,[n.value?(m(),f("div",Jc,[...x[5]||(x[5]=[e("div",{class:"spinner mx-auto"},null,-1),e("p",{class:"mt-2 text-sm text-gray-500"},"Registry wird geladen...",-1)])])):(m(),f("div",Qc,[e("div",Xc,[x[7]||(x[7]=e("h4",{class:"text-sm font-medium text-gray-900 dark:text-white mb-4"}," Neuen Claim hinzufgen ",-1)),e("div",Yc,[R(e("input",{"onUpdate:modelValue":x[0]||(x[0]=l=>o.key=l),type:"text",placeholder:"Claim-Schlssel",class:"form-input"},null,512),[[N,o.key]]),R(e("select",{"onUpdate:modelValue":x[1]||(x[1]=l=>o.type=l),class:"form-select"},[...x[6]||(x[6]=[ie('<option value="">Typ whlen</option><option value="string">String</option><option value="number">Number</option><option value="boolean">Boolean</option><option value="array">Array</option><option value="object">Object</option>',6)])],512),[[ee,o.type]]),R(e("input",{"onUpdate:modelValue":x[2]||(x[2]=l=>o.description=l),type:"text",placeholder:"Beschreibung",class:"form-input"},null,512),[[N,o.description]]),e("button",{onClick:u,disabled:!o.key||!o.type,class:"btn btn-primary"}," Hinzufgen ",8,e0)])]),e("div",t0,[(m(!0),f(D,null,F(a.claims,(l,g)=>(m(),f("div",{key:g,class:"border border-gray-200 dark:border-gray-700 rounded-lg p-4"},[e("div",s0,[e("div",n0,[e("div",null,[x[8]||(x[8]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300"}," Claim-Schlssel ",-1)),e("input",{value:g,disabled:"",class:"form-input mt-1 bg-gray-50 dark:bg-gray-800"},null,8,r0)]),e("div",null,[x[10]||(x[10]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300"}," Typ ",-1)),R(e("select",{"onUpdate:modelValue":i=>l.type=i,class:"form-select mt-1"},[...x[9]||(x[9]=[ie('<option value="string">String</option><option value="number">Number</option><option value="boolean">Boolean</option><option value="array">Array</option><option value="object">Object</option>',5)])],8,a0),[[ee,l.type]])]),e("div",null,[x[11]||(x[11]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300"}," Beschreibung ",-1)),R(e("textarea",{"onUpdate:modelValue":i=>l.description=i,rows:"2",class:"form-textarea mt-1"},null,8,o0),[[N,l.description]])])]),e("div",i0,[e("div",l0,[e("label",d0,[R(e("input",{type:"checkbox","onUpdate:modelValue":i=>l.required=i,class:"form-checkbox"},null,8,u0),[[X,l.required]]),x[12]||(x[12]=e("span",{class:"ml-2 text-sm text-gray-700 dark:text-gray-300"},"Required",-1))]),e("label",c0,[R(e("input",{type:"checkbox","onUpdate:modelValue":i=>l.default_allowed=i,class:"form-checkbox"},null,8,m0),[[X,l.default_allowed]]),x[13]||(x[13]=e("span",{class:"ml-2 text-sm text-gray-700 dark:text-gray-300"},"Default Allowed",-1))]),e("label",f0,[R(e("input",{type:"checkbox","onUpdate:modelValue":i=>l.sensitive=i,class:"form-checkbox"},null,8,g0),[[X,l.sensitive]]),x[14]||(x[14]=e("span",{class:"ml-2 text-sm text-gray-700 dark:text-gray-300"},"Sensitive",-1))]),e("label",p0,[R(e("input",{type:"checkbox","onUpdate:modelValue":i=>l.admin_only=i,class:"form-checkbox"},null,8,h0),[[X,l.admin_only]]),x[15]||(x[15]=e("span",{class:"ml-2 text-sm text-gray-700 dark:text-gray-300"},"Admin Only",-1))])]),l.type==="array"&&l.items?(m(),f("div",y0,[x[16]||(x[16]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300"}," Array Items (JSON) ",-1)),e("textarea",{value:JSON.stringify(l.items,null,2),onInput:i=>c(g,i),rows:"3",class:"form-textarea mt-1 font-mono text-xs"},null,40,x0)])):B("",!0),e("div",v0,[e("button",{onClick:i=>v(g),class:"btn btn-sm btn-error"}," Claim entfernen ",8,b0)])])])]))),128))])]))])])])}}}),_0=oe("audit",()=>{const s=C([]),t=C(!1),n=C({}),r=O(()=>{let v=s.value;return n.value.user_id&&(v=v.filter(c=>c.user_id===n.value.user_id)),n.value.event_type&&(v=v.filter(c=>c.event_type===n.value.event_type)),v}),a=O(()=>{const v=new Set(s.value.map(c=>c.event_type));return Array.from(v).sort()});return{events:s,isLoading:t,filters:n,filteredEvents:r,eventTypes:a,loadAuditEvents:async(v={})=>{t.value=!0;try{const c=new URLSearchParams;v.user_id&&c.append("user_id",v.user_id),v.event_type&&c.append("event_type",v.event_type),v.from&&c.append("from",v.from),v.to&&c.append("to",v.to),v.limit&&c.append("limit",v.limit.toString());const y=await T.get(`/api/audit/query?${c}`);s.value=y.data}catch(c){throw console.error("Failed to load audit events:",c),c}finally{t.value=!1}},setFilters:v=>{n.value={...n.value,...v}},clearFilters:()=>{n.value={}}}}),w0={class:"page-header"},$0={class:"flex items-center justify-between"},S0={class:"card mb-6"},C0={class:"card-body"},A0={class:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-4"},E0=["value"],O0={class:"card"},R0={class:"card-header"},z0={class:"text-lg font-medium text-gray-900 dark:text-white"},U0={class:"overflow-hidden"},T0={key:0,class:"px-6 py-8"},B0={class:"space-y-4"},L0={key:1,class:"px-6 py-8 text-center"},D0={class:"mt-1 text-sm text-gray-500 dark:text-gray-400"},F0={key:2,class:"overflow-x-auto"},M0={class:"table"},j0={class:"font-mono text-sm"},P0={class:"text-gray-900 dark:text-white"},I0={class:"text-xs text-gray-500"},N0={class:"max-w-md"},V0={class:"text-sm text-gray-900 dark:text-white"},q0={key:0,class:"text-xs text-gray-500 mt-1 truncate"},H0={class:"text-sm"},Z0={key:0,class:"font-mono text-gray-900 dark:text-white"},K0={key:1,class:"text-gray-500 dark:text-gray-400"},W0={class:"text-sm font-mono text-gray-600 dark:text-gray-300"},G0={class:"text-right"},J0=["onClick"],Q0={class:"px-6 py-4 space-y-4"},X0={class:"grid grid-cols-2 gap-4"},Y0={class:"mt-1 text-sm font-mono text-gray-900 dark:text-white"},em={class:"mt-1 text-sm text-gray-900 dark:text-white"},tm={class:"mt-1 text-sm text-gray-900 dark:text-white"},sm={class:"mt-1 text-sm font-mono text-gray-900 dark:text-white"},nm={class:"mt-1 text-sm font-mono text-gray-900 dark:text-white"},rm={class:"mt-1 text-sm text-gray-900 dark:text-white"},am={key:0},om={class:"mt-1 text-sm font-mono text-gray-900 dark:text-white break-all"},im={key:1},lm={class:"mt-1 text-xs bg-gray-100 dark:bg-gray-800 p-3 rounded-md overflow-auto"},dm={class:"px-6 py-4 bg-gray-50 dark:bg-gray-700 flex justify-end"},um=M({__name:"AuditLog",setup(s){const t=_0(),n=C(""),r=C(""),a=C("50"),o=C(null),d=g=>({user_login:"Benutzer-Login",user_logout:"Benutzer-Logout",user_created:"Benutzer erstellt",user_updated:"Benutzer gendert",user_deleted:"Benutzer gelscht",password_changed:"Passwort gendert",admin_action:"Admin-Aktion",system_error:"System-Fehler",api_access:"API-Zugriff",auth_failed:"Auth-Fehler"})[g]||g,u=g=>g.includes("error")||g.includes("failed")?"red":g.includes("login")||g.includes("created")?"green":g.includes("updated")||g.includes("changed")?"yellow":g.includes("deleted")||g.includes("logout")?"orange":"blue",v=g=>new Date(g).toLocaleDateString("de-DE"),c=g=>new Date(g).toLocaleTimeString("de-DE"),y=g=>new Date(g).toLocaleString("de-DE"),h=()=>{n.value="",r.value="",a.value="50"},x=async()=>{await l()},p=g=>{o.value=g},l=async()=>{await t.loadAuditEvents({user_id:n.value||void 0,event_type:r.value||void 0,limit:parseInt(a.value)})};return Ue([n,r,a],()=>{t.setFilters({user_id:n.value||void 0,event_type:r.value||void 0,limit:parseInt(a.value)}),l()}),Y(()=>{l()}),(g,i)=>(m(),f("div",null,[e("div",w0,[e("div",$0,[i[7]||(i[7]=e("div",null,[e("h1",{class:"page-title"},"Audit-Log"),e("p",{class:"page-subtitle"}," System-Aktivitten und Sicherheitsereignisse ")],-1)),e("button",{onClick:x,class:"btn btn-secondary"},[w(S(Me),{class:"w-4 h-4 mr-2"}),i[6]||(i[6]=z(" Aktualisieren ",-1))])])]),e("div",S0,[e("div",C0,[e("div",A0,[e("div",null,[i[8]||(i[8]=e("label",{for:"user-filter",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"}," Benutzer ID ",-1)),R(e("input",{id:"user-filter",type:"text","onUpdate:modelValue":i[0]||(i[0]=b=>n.value=b),class:"form-input mt-1",placeholder:"z.B. user-123"},null,512),[[N,n.value]])]),e("div",null,[i[10]||(i[10]=e("label",{for:"event-type-filter",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"}," Event-Typ ",-1)),R(e("select",{id:"event-type-filter","onUpdate:modelValue":i[1]||(i[1]=b=>r.value=b),class:"form-select mt-1"},[i[9]||(i[9]=e("option",{value:""},"Alle Event-Typen",-1)),(m(!0),f(D,null,F(S(t).eventTypes,b=>(m(),f("option",{key:b,value:b},$(d(b)),9,E0))),128))],512),[[ee,r.value]])]),e("div",null,[i[12]||(i[12]=e("label",{for:"limit-filter",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"}," Anzahl ",-1)),R(e("select",{id:"limit-filter","onUpdate:modelValue":i[2]||(i[2]=b=>a.value=b),class:"form-select mt-1"},[...i[11]||(i[11]=[e("option",{value:"50"},"50 Eintrge",-1),e("option",{value:"100"},"100 Eintrge",-1),e("option",{value:"200"},"200 Eintrge",-1),e("option",{value:"500"},"500 Eintrge",-1)])],512),[[ee,a.value]])]),e("div",{class:"flex items-end"},[e("button",{onClick:h,class:"btn btn-ghost"}," Filter zurcksetzen ")])])])]),e("div",O0,[e("div",R0,[e("h3",z0," Audit-Ereignisse ("+$(S(t).filteredEvents.length)+") ",1)]),e("div",U0,[S(t).isLoading?(m(),f("div",T0,[e("div",B0,[(m(),f(D,null,F(10,b=>e("div",{key:b,class:"flex items-center space-x-4"},[...i[13]||(i[13]=[ie('<div class="skeleton w-20 h-4"></div><div class="flex-1 space-y-2"><div class="skeleton w-2/3 h-4"></div><div class="skeleton w-1/2 h-3"></div></div><div class="skeleton w-16 h-4"></div>',3)])])),64))])])):S(t).filteredEvents.length===0?(m(),f("div",L0,[w(S(he),{class:"mx-auto h-12 w-12 text-gray-400"}),i[14]||(i[14]=e("h3",{class:"mt-2 text-sm font-medium text-gray-900 dark:text-white"}," Keine Audit-Ereignisse gefunden ",-1)),e("p",D0,$(n.value||r.value?"Keine Ereignisse entsprechen den Filterkriterien.":"Es sind noch keine Audit-Ereignisse vorhanden."),1)])):(m(),f("div",F0,[e("table",M0,[i[15]||(i[15]=e("thead",null,[e("tr",null,[e("th",null,"Zeitstempel"),e("th",null,"Event-Typ"),e("th",null,"Beschreibung"),e("th",null,"Benutzer"),e("th",null,"IP-Adresse"),e("th",{class:"relative"},[e("span",{class:"sr-only"},"Details")])])],-1)),e("tbody",null,[(m(!0),f(D,null,F(S(t).filteredEvents,b=>(m(),f("tr",{key:b.id},[e("td",j0,[e("div",P0,$(v(b.timestamp)),1),e("div",I0,$(c(b.timestamp)),1)]),e("td",null,[w(W,{text:d(b.event_type),color:u(b.event_type)},null,8,["text","color"])]),e("td",N0,[e("div",V0,$(b.description),1),b.user_agent?(m(),f("div",q0,$(b.user_agent),1)):B("",!0)]),e("td",H0,[b.user_id?(m(),f("div",Z0,$(b.user_id),1)):(m(),f("span",K0," System "))]),e("td",W0,$(b.ip_address||"-"),1),e("td",G0,[e("button",{onClick:_=>p(b),class:"btn btn-sm btn-ghost"}," Details ",8,J0)])]))),128))])])]))])]),o.value?(m(),f("div",{key:0,class:"modal-overlay",onClick:i[5]||(i[5]=b=>o.value=null)},[e("div",{class:"modal-panel max-w-2xl",onClick:i[4]||(i[4]=ae(()=>{},["stop"]))},[i[24]||(i[24]=e("div",{class:"px-6 py-4 border-b border-gray-200 dark:border-gray-700"},[e("h3",{class:"text-lg font-medium text-gray-900 dark:text-white"}," Audit-Event Details ")],-1)),e("div",Q0,[e("div",X0,[e("div",null,[i[16]||(i[16]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300"}," Event-ID ",-1)),e("p",Y0,$(o.value.id),1)]),e("div",null,[i[17]||(i[17]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300"}," Zeitstempel ",-1)),e("p",em,$(y(o.value.timestamp)),1)]),e("div",null,[i[18]||(i[18]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300"}," Event-Typ ",-1)),e("p",tm,$(o.value.event_type),1)]),e("div",null,[i[19]||(i[19]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300"}," Benutzer-ID ",-1)),e("p",sm,$(o.value.user_id||"System"),1)]),e("div",null,[i[20]||(i[20]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300"}," IP-Adresse ",-1)),e("p",nm,$(o.value.ip_address||"-"),1)])]),e("div",null,[i[21]||(i[21]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300"}," Beschreibung ",-1)),e("p",rm,$(o.value.description),1)]),o.value.user_agent?(m(),f("div",am,[i[22]||(i[22]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300"}," User Agent ",-1)),e("p",om,$(o.value.user_agent),1)])):B("",!0),o.value.metadata?(m(),f("div",im,[i[23]||(i[23]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300"}," Metadata ",-1)),e("pre",lm,$(JSON.stringify(o.value.metadata,null,2)),1)])):B("",!0)]),e("div",dm,[e("button",{onClick:i[3]||(i[3]=b=>o.value=null),class:"btn btn-primary"}," Schlieen ")])])])):B("",!0)]))}}),cm=oe("sessions",()=>{const s=C([]),t=C(!1),n=C(null),r=O(()=>s.value),a=O(()=>s.value.length);return{sessions:s,isLoading:t,error:n,activeSessions:r,sessionCount:a,loadActiveSessions:async()=>{t.value=!0,n.value=null;try{const p=await fetch("/api/sessions/active",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});if(!p.ok)throw new Error(`HTTP ${p.status}: ${p.statusText}`);const l=await p.json();if(l.success&&l.data)s.value=l.data;else throw new Error(l.message||"Failed to load sessions")}catch(p){n.value=p instanceof Error?p.message:"Failed to load active sessions",console.error("Failed to load active sessions:",p)}finally{t.value=!1}},terminateSession:async p=>{try{const l=await fetch(`/api/sessions/${p}`,{method:"DELETE",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});if(!l.ok)throw new Error(`HTTP ${l.status}: ${l.statusText}`);const g=await l.json();if(g.success)return s.value=s.value.filter(i=>i.id!==p),!0;throw new Error(g.message||"Failed to terminate session")}catch(l){return n.value=l instanceof Error?l.message:"Failed to terminate session",console.error("Failed to terminate session:",l),!1}},getSessionsByUser:p=>s.value.filter(l=>l.user_id===p),getSessionsByOrganization:p=>s.value.filter(l=>l.organization===p),formatLastActivity:p=>{const l=new Date(p),i=new Date().getTime()-l.getTime(),b=Math.floor(i/6e4),_=Math.floor(b/60),A=Math.floor(_/24);return b<1?"Gerade eben":b<60?`vor ${b} Min.`:_<24?`vor ${_} Std.`:A===1?"Gestern":`vor ${A} Tagen`},isSessionExpiringSoon:p=>{const l=new Date(p),g=new Date,b=(l.getTime()-g.getTime())/(1e3*60*60);return b<24&&b>0},clearError:()=>{n.value=null},$reset:()=>{s.value=[],t.value=!1,n.value=null}}}),mm={class:"page-header"},fm={class:"flex items-center justify-between"},gm={class:"grid grid-cols-1 gap-6 sm:grid-cols-3 mb-6"},pm={class:"card"},hm={class:"card-body"},ym={class:"flex items-center"},xm={class:"flex-shrink-0"},vm={class:"ml-5 w-0 flex-1"},bm={class:"text-lg font-medium text-gray-900 dark:text-white"},km={class:"card"},_m={class:"card-body"},wm={class:"flex items-center"},$m={class:"flex-shrink-0"},Sm={class:"ml-5 w-0 flex-1"},Cm={class:"text-lg font-medium text-gray-900 dark:text-white"},Am={class:"card"},Em={class:"card-body"},Om={class:"flex items-center"},Rm={class:"flex-shrink-0"},zm={class:"ml-5 w-0 flex-1"},Um={class:"text-lg font-medium text-gray-900 dark:text-white"},Tm={class:"card"},Bm={class:"card-header"},Lm={class:"text-lg font-medium text-gray-900 dark:text-white"},Dm={class:"overflow-hidden"},Fm={key:0,class:"px-6 py-8"},Mm={class:"space-y-4"},jm={key:1,class:"px-6 py-8 text-center"},Pm={key:2,class:"table"},Im={class:"flex items-center"},Nm={class:"text-sm font-medium text-gray-900 dark:text-white"},Vm={class:"text-sm text-gray-500 dark:text-gray-400"},qm={class:"font-mono text-sm text-gray-600 dark:text-gray-300"},Hm={class:"text-sm font-mono text-gray-900 dark:text-white"},Zm={class:"max-w-xs"},Km={class:"text-sm text-gray-900 dark:text-white truncate"},Wm={class:"text-xs text-gray-500 dark:text-gray-400"},Gm={class:"text-sm text-gray-900 dark:text-white"},Jm={class:"text-sm text-gray-900 dark:text-white"},Qm={class:"text-xs text-gray-500"},Xm={class:"text-right text-sm font-medium"},Ym=["onClick"],ef=M({__name:"ActiveSessions",setup(s){const t=cm(),n=O(()=>t.activeSessions),r=O(()=>t.isLoading),a=O(()=>new Set(n.value.map(x=>x.user_id)).size),o=O(()=>n.value.filter(h=>h.user_agent.toLowerCase().includes("mobile")||h.user_agent.toLowerCase().includes("android")||h.user_agent.toLowerCase().includes("iphone")).length),d=h=>h.includes("Chrome")?"Chrome":h.includes("Firefox")?"Firefox":h.includes("Safari")?"Safari":h.includes("Edge")?"Edge":"Unknown",u=h=>h.includes("Windows")?"Windows":h.includes("Macintosh")?"macOS":h.includes("Linux")?"Linux":h.includes("Android")?"Android":h.includes("iPhone")?"iOS":"Unknown",v=h=>new Date(h).toLocaleString("de-DE"),c=async()=>{await t.loadActiveSessions()},y=async h=>{await t.terminateSession(h.id)||console.error("Failed to terminate session")};return Y(()=>{c()}),(h,x)=>(m(),f("div",null,[e("div",mm,[e("div",fm,[x[1]||(x[1]=e("div",null,[e("h1",{class:"page-title"},"Aktive Sessions"),e("p",{class:"page-subtitle"}," bersicht ber aktuelle Benutzersitzungen ")],-1)),e("button",{onClick:c,class:"btn btn-primary"},[w(S(Me),{class:"w-4 h-4 mr-2"}),x[0]||(x[0]=z(" Aktualisieren ",-1))])])]),e("div",gm,[e("div",pm,[e("div",hm,[e("div",ym,[e("div",xm,[w(S(ct),{class:"h-8 w-8 text-green-600"})]),e("div",vm,[e("dl",null,[x[2]||(x[2]=e("dt",{class:"text-sm font-medium text-gray-500 dark:text-gray-400 truncate"}," Aktive Sessions ",-1)),e("dd",bm,$(n.value.length),1)])])])])]),e("div",km,[e("div",_m,[e("div",wm,[e("div",$m,[w(S(ze),{class:"h-8 w-8 text-blue-600"})]),e("div",Sm,[e("dl",null,[x[3]||(x[3]=e("dt",{class:"text-sm font-medium text-gray-500 dark:text-gray-400 truncate"}," Unique Users ",-1)),e("dd",Cm,$(a.value),1)])])])])]),e("div",Am,[e("div",Em,[e("div",Om,[e("div",Rm,[w(S($r),{class:"h-8 w-8 text-purple-600"})]),e("div",zm,[e("dl",null,[x[4]||(x[4]=e("dt",{class:"text-sm font-medium text-gray-500 dark:text-gray-400 truncate"}," Mobile Sessions ",-1)),e("dd",Um,$(o.value),1)])])])])])]),e("div",Tm,[e("div",Bm,[e("h3",Lm," Aktive Sessions ("+$(n.value.length)+") ",1)]),e("div",Dm,[r.value?(m(),f("div",Fm,[e("div",Mm,[(m(),f(D,null,F(5,p=>e("div",{key:p,class:"flex items-center space-x-4"},[...x[5]||(x[5]=[ie('<div class="skeleton w-10 h-10 rounded-full"></div><div class="flex-1 space-y-2"><div class="skeleton w-1/3 h-4"></div><div class="skeleton w-1/2 h-3"></div></div><div class="skeleton w-20 h-6"></div>',3)])])),64))])])):n.value.length===0?(m(),f("div",jm,[w(S(ct),{class:"mx-auto h-12 w-12 text-gray-400"}),x[6]||(x[6]=e("h3",{class:"mt-2 text-sm font-medium text-gray-900 dark:text-white"}," Keine aktiven Sessions ",-1)),x[7]||(x[7]=e("p",{class:"mt-1 text-sm text-gray-500 dark:text-gray-400"}," Es sind derzeit keine aktiven Benutzersitzungen vorhanden. ",-1))])):(m(),f("table",Pm,[x[8]||(x[8]=e("thead",null,[e("tr",null,[e("th",null,"Benutzer"),e("th",null,"Session ID"),e("th",null,"IP-Adresse"),e("th",null,"User Agent"),e("th",null,"Login-Zeit"),e("th",null,"Letzte Aktivitt"),e("th",{class:"relative"},[e("span",{class:"sr-only"},"Aktionen")])])],-1)),e("tbody",null,[(m(!0),f(D,null,F(n.value,p=>(m(),f("tr",{key:p.id},[e("td",null,[e("div",Im,[w(st,{user:{email:p.user_email,full_name:p.user_name},size:"sm",class:"mr-3"},null,8,["user"]),e("div",null,[e("div",Nm,$(p.user_name),1),e("div",Vm,$(p.user_email),1)])])]),e("td",qm,$(p.id.substring(0,8))+"... ",1),e("td",Hm,$(p.ip_address),1),e("td",Zm,[e("div",Km,$(d(p.user_agent)),1),e("div",Wm,$(u(p.user_agent)),1)]),e("td",Gm,$(v(p.created_at)),1),e("td",Jm,[e("div",null,$(v(p.last_activity)),1),e("div",Qm,$(S(t).formatLastActivity(p.last_activity)),1)]),e("td",Xm,[e("button",{onClick:l=>y(p),class:"btn btn-sm btn-error"}," Beenden ",8,Ym)])]))),128))])]))])])]))}}),tf={class:"card"},sf={class:"card-body"},nf={class:"text-center py-12"},rf=M({__name:"Analytics",setup(s){return(t,n)=>(m(),f("div",null,[n[2]||(n[2]=e("div",{class:"page-header"},[e("h1",{class:"page-title"},"Login-Statistiken"),e("p",{class:"page-subtitle"}," Analysen und Berichte zu Anmelde-Aktivitten ")],-1)),e("div",tf,[e("div",sf,[e("div",nf,[w(S(_s),{class:"mx-auto h-12 w-12 text-gray-400"}),n[0]||(n[0]=e("h3",{class:"mt-2 text-sm font-medium text-gray-900 dark:text-white"}," Login-Analysen ",-1)),n[1]||(n[1]=e("p",{class:"mt-1 text-sm text-gray-500 dark:text-gray-400"}," Diese Funktion wird in einer zuknftigen Version implementiert. ",-1))])])])]))}}),af={class:"card"},of={class:"card-body"},lf={class:"text-center py-12"},df=M({__name:"SystemStatus",setup(s){return(t,n)=>(m(),f("div",null,[n[2]||(n[2]=e("div",{class:"page-header"},[e("h1",{class:"page-title"},"System Status"),e("p",{class:"page-subtitle"}," bersicht ber die System-Gesundheit und Service-Verfgbarkeit ")],-1)),e("div",af,[e("div",of,[e("div",lf,[w(S(tt),{class:"mx-auto h-12 w-12 text-gray-400"}),n[0]||(n[0]=e("h3",{class:"mt-2 text-sm font-medium text-gray-900 dark:text-white"}," System-Monitoring ",-1)),n[1]||(n[1]=e("p",{class:"mt-1 text-sm text-gray-500 dark:text-gray-400"}," Diese Funktion wird in einer zuknftigen Version implementiert. ",-1))])])])]))}}),uf={class:"card"},cf={class:"card-body"},mf={class:"text-center py-12"},ff={class:"mt-6"},gf=M({__name:"SystemConfig",setup(s){return(t,n)=>{const r=Z("router-link");return m(),f("div",null,[n[3]||(n[3]=e("div",{class:"page-header"},[e("h1",{class:"page-title"},"System-Konfiguration"),e("p",{class:"page-subtitle"}," System-Einstellungen und Parameter verwalten ")],-1)),e("div",uf,[e("div",cf,[e("div",mf,[w(S(tt),{class:"mx-auto h-12 w-12 text-gray-400"}),n[1]||(n[1]=e("h3",{class:"mt-2 text-sm font-medium text-gray-900 dark:text-white"}," System-Konfiguration ",-1)),n[2]||(n[2]=e("p",{class:"mt-1 text-sm text-gray-500 dark:text-gray-400"}," Diese Funktion wird in einer zuknftigen Version implementiert. ",-1)),e("div",ff,[w(r,{to:"/system/status",class:"btn btn-primary"},{default:U(()=>[...n[0]||(n[0]=[z(" Zum System Status ",-1)])]),_:1})])])])])])}}}),pf={class:"card"},hf={class:"card-body"},yf={class:"text-center py-12"},xf=M({__name:"Profile",setup(s){return(t,n)=>(m(),f("div",null,[n[2]||(n[2]=e("div",{class:"page-header"},[e("h1",{class:"page-title"},"Profil"),e("p",{class:"page-subtitle"}," Verwalten Sie Ihre persnlichen Informationen ")],-1)),e("div",pf,[e("div",hf,[e("div",yf,[w(S(Ss),{class:"mx-auto h-12 w-12 text-gray-400"}),n[0]||(n[0]=e("h3",{class:"mt-2 text-sm font-medium text-gray-900 dark:text-white"}," Profil-Verwaltung ",-1)),n[1]||(n[1]=e("p",{class:"mt-1 text-sm text-gray-500 dark:text-gray-400"}," Diese Funktion wird in einer zuknftigen Version implementiert. ",-1))])])])]))}}),vf={},bf={class:"min-h-screen bg-gray-50 dark:bg-gray-900 flex flex-col justify-center py-12 sm:px-6 lg:px-8"},kf={class:"sm:mx-auto sm:w-full sm:max-w-md"},_f={class:"mt-8 flex justify-center space-x-4"};function wf(s,t){const n=Z("router-link");return m(),f("div",bf,[e("div",kf,[t[2]||(t[2]=e("div",{class:"text-center"},[e("h1",{class:"text-6xl font-bold text-gray-900 dark:text-white"},"404"),e("h2",{class:"mt-4 text-2xl font-bold text-gray-900 dark:text-white"}," Seite nicht gefunden "),e("p",{class:"mt-2 text-gray-600 dark:text-gray-400"}," Die angeforderte Seite konnte nicht gefunden werden. ")],-1)),e("div",_f,[w(n,{to:"/dashboard",class:"btn btn-primary"},{default:U(()=>[...t[1]||(t[1]=[z(" Zum Dashboard ",-1)])]),_:1}),e("button",{onClick:t[0]||(t[0]=r=>s.$router.go(-1)),class:"btn btn-secondary"}," Zurck ")])])])}const $f=kt(vf,[["render",wf]]),Sf={class:"min-h-screen bg-gray-50 dark:bg-gray-900 flex flex-col justify-center py-12 sm:px-6 lg:px-8"},Cf={class:"sm:mx-auto sm:w-full sm:max-w-md"},Af={class:"text-center"},Ef={class:"mt-8 flex justify-center space-x-4"},Of=M({__name:"Unauthorized",setup(s){const t=we(),n=async()=>{await t.logout()};return(r,a)=>{const o=Z("router-link");return m(),f("div",Sf,[e("div",Cf,[e("div",Af,[w(S(Or),{class:"mx-auto h-24 w-24 text-red-500"}),a[0]||(a[0]=e("h1",{class:"mt-4 text-2xl font-bold text-gray-900 dark:text-white"}," Zugriff verweigert ",-1)),a[1]||(a[1]=e("p",{class:"mt-2 text-gray-600 dark:text-gray-400"}," Sie haben keine Berechtigung, auf diese Seite zuzugreifen. ",-1))]),e("div",Ef,[w(o,{to:"/dashboard",class:"btn btn-primary"},{default:U(()=>[...a[2]||(a[2]=[z(" Zum Dashboard ",-1)])]),_:1}),e("button",{onClick:n,class:"btn btn-secondary"}," Abmelden ")])])])}}}),Es=zs({history:Us(),routes:[{path:"",redirect:"/dashboard"},{path:"/dashboard",name:"Dashboard",component:fi,meta:{requiresAuth:!0,breadcrumb:[{name:"Dashboard"}]}},{path:"/users",name:"UserList",component:Ki,meta:{requiresAuth:!0,breadcrumb:[{name:"Benutzer"}]}},{path:"/users/create",name:"UserCreate",component:cl,meta:{requiresAuth:!0,breadcrumb:[{name:"Benutzer",href:"/users"},{name:"Erstellen"}]}},{path:"/users/:id",name:"UserEdit",component:Vl,props:!0,meta:{requiresAuth:!0,breadcrumb:[{name:"Benutzer",href:"/users"},{name:"Bearbeiten"}]}},{path:"/users/import",name:"UserImport",component:Wl,meta:{requiresAuth:!0,breadcrumb:[{name:"Benutzer",href:"/users"},{name:"Import"}]}},{path:"/organizations",name:"OrganizationList",component:Td,meta:{requiresAuth:!0,breadcrumb:[{name:"Organisationen"}]}},{path:"/organizations/:id",name:"OrganizationDetail",component:jd,props:!0,meta:{requiresAuth:!0,breadcrumb:[{name:"Organisationen",href:"/organizations"},{name:"Details"}]}},{path:"/clients",name:"ClientList",component:Cu,meta:{requiresAuth:!0,breadcrumb:[{name:"OAuth2 Clients"}]}},{path:"/clients/create",name:"ClientCreate",component:Ku,meta:{requiresAuth:!0,breadcrumb:[{name:"OAuth2 Clients",href:"/clients"},{name:"Erstellen"}]}},{path:"/clients/:id",name:"ClientDetail",component:Yu,props:!0,meta:{requiresAuth:!0,breadcrumb:[{name:"OAuth2 Clients",href:"/clients"},{name:"Details"}]}},{path:"/claims",name:"ClaimsList",component:Ic,meta:{requiresAuth:!0,breadcrumb:[{name:"Claims"}]}},{path:"/claims/registry",name:"ClaimsRegistry",component:k0,meta:{requiresAuth:!0,breadcrumb:[{name:"Claims",href:"/claims"},{name:"Registry"}]}},{path:"/audit",name:"AuditLog",component:um,meta:{requiresAuth:!0,breadcrumb:[{name:"Audit-Log"}]}},{path:"/sessions",name:"ActiveSessions",component:ef,meta:{requiresAuth:!0,breadcrumb:[{name:"Aktive Sessions"}]}},{path:"/analytics",name:"Analytics",component:rf,meta:{requiresAuth:!0,breadcrumb:[{name:"Login-Statistiken"}]}},{path:"/system/status",name:"SystemStatus",component:df,meta:{requiresAuth:!0,breadcrumb:[{name:"System",href:"/system"},{name:"Status"}]}},{path:"/system/config",name:"SystemConfig",component:gf,meta:{requiresAuth:!0,breadcrumb:[{name:"System",href:"/system"},{name:"Konfiguration"}]}},{path:"/profile",name:"Profile",component:xf,meta:{requiresAuth:!0,breadcrumb:[{name:"Profil"}]}},{path:"/unauthorized",name:"Unauthorized",component:Of,meta:{requiresAuth:!1}},{path:"/:pathMatch(.*)*",name:"NotFound",component:$f,meta:{requiresAuth:!1}}]});Es.beforeEach(async(s,t,n)=>{const r=we();if(s.meta.requiresAuth!==!1){if(r.isLoading){const a=setInterval(()=>{if(!r.isLoading)if(clearInterval(a),r.isAuthenticated||r.token)n();else{const o=`${window.location.origin}${s.fullPath}`,d=`${ve.auth.serviceUrl}/?redirect=${encodeURIComponent(o)}`;window.location.href=d}},100);return}if(r.isAuthenticated){n();return}if(r.token&&!r.user){setTimeout(()=>{if(!r.isAuthenticated){const a=`${window.location.origin}${s.fullPath}`,o=`${ve.auth.serviceUrl}/?redirect=${encodeURIComponent(a)}`;window.location.href=o}},1e3),n();return}if(!r.token){const a=`${window.location.origin}${s.fullPath}`,o=`${ve.auth.serviceUrl}/?redirect=${encodeURIComponent(a)}`;window.location.href=o;return}}n()});const _t=Ts(Qa);_t.use(Bs());_t.use(Es);_t.mount("#app");export{Qt as _,_s as r};
