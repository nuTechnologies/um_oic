import{_ as k,r as w}from"./index-CZa0XmFX.js";import{d as p,c as B,f as n,j as l,q as f,g as t,s as b,F as h,m as x,L as c,t as i}from"./vendor-CFtzkAeN.js";import"./ui-Dc3WzFEt.js";const $={key:0,class:"w-full h-full"},C={key:1,class:"flex items-center justify-center h-full"},F={class:"text-center"},j={key:2,class:"w-full h-full flex"},L={class:"flex-1 flex items-center justify-center"},D={class:"relative"},E={class:"w-48 h-48 rounded-full relative overflow-hidden shadow-lg"},S=["title"],A={class:"absolute inset-0 flex items-center justify-center"},N={class:"text-center"},V={class:"text-lg font-bold text-gray-900 dark:text-white"},q={class:"w-32 flex flex-col justify-center space-y-2 ml-6"},z={class:"flex-1 min-w-0"},G={class:"text-sm font-medium text-gray-900 dark:text-white truncate"},K={class:"text-xs text-gray-500 dark:text-gray-400"},H=p({__name:"OrgLoginChart",props:{data:{},loading:{type:Boolean,default:!1},height:{default:300}},setup(a){const d=a,u=["#3B82F6","#10B981","#F59E0B","#EF4444","#8B5CF6","#06B6D4","#F97316","#84CC16"],m=B(()=>d.data?d.data.reduce((r,s)=>r+s.count,0):0),g=r=>u[r%u.length],y=(r,s)=>{const e=d.data.slice(0,s).reduce((v,_)=>v+_.percentage*3.6,0),o=e+r.percentage*3.6;return{background:`conic-gradient(from ${e}deg, ${g(s)} 0deg ${o-e}deg, transparent ${o-e}deg)`}};return(r,s)=>(l(),n("div",{class:"w-full",style:c({height:a.height+"px"})},[a.loading?(l(),n("div",$,[f(k,{height:a.height},null,8,["height"])])):!a.data||a.data.length===0?(l(),n("div",C,[t("div",F,[f(b(w),{class:"mx-auto h-12 w-12 text-gray-400"}),s[0]||(s[0]=t("h3",{class:"mt-2 text-sm font-medium text-gray-900 dark:text-white"}," Keine Daten verf체gbar ",-1)),s[1]||(s[1]=t("p",{class:"mt-1 text-sm text-gray-500 dark:text-gray-400"}," Es sind keine Login-Daten f체r den ausgew채hlten Zeitraum verf체gbar. ",-1))])])):(l(),n("div",j,[t("div",L,[t("div",D,[t("div",E,[(l(!0),n(h,null,x(a.data,(e,o)=>(l(),n("div",{key:e.org,class:"absolute inset-0 transition-all duration-300",style:c(y(e,o))},[t("div",{class:"absolute inset-0 hover:opacity-80 cursor-pointer",title:`${e.org}: ${e.count} (${e.percentage}%)`},null,8,S)],4))),128))]),t("div",A,[t("div",N,[t("div",V,i(m.value),1),s[2]||(s[2]=t("div",{class:"text-xs text-gray-500 dark:text-gray-400"}," Gesamt ",-1))])])])]),t("div",q,[(l(!0),n(h,null,x(a.data,(e,o)=>(l(),n("div",{key:"legend-"+e.org,class:"flex items-center"},[t("div",{class:"w-3 h-3 rounded-sm mr-2",style:c({backgroundColor:g(o)})},null,4),t("div",z,[t("div",G,i(e.org),1),t("div",K,i(e.count)+" ("+i(e.percentage)+"%) ",1)])]))),128))])]))],4))}});export{H as default};
